<html>
	<head>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		
		<!-- https://highlightjs.org/download/ -->
		<!--
			https://mg.pov.lt/restview/
			pip install restview
			
		-->
		<link rel="stylesheet" href="./lib/highlight/styles/default.css">
		<script src="./lib/highlight/highlight.pack.js"></script>
		<script>hljs.highlightAll();</script>
		
		<link rel="stylesheet" href="./style.css">
		<style type="text/css">
		</style>
	</head>
	<body>
		<div class="page">
			<h1>Epis&oacute;dio 3: Conhecendo os registradores STATUS, OPTION (OPTION_REG), INTCON, W e o registradores de uso geral para o usu&aacute;rio do PIC16F628A</h1>
			<p class="voltarIndice"><a href="./Summary.html">Voltar ao &iacute;ndice</a></p>
			<hr class="indice"/>
			
			<p class="c11">
				Neste epis&oacute;dio veremos os registradores especiais <span class="c47 c6 c34">STATUS</span>, <span class="c47 c6 c34">OPTION</span>(<span class="c47 c6 c34">OPTION_REG</span>), <span class="c47 c6 c34">INTCON</span>e </span><span class="c34">W</span>e as suas defini&ccedil;&otilde;es e seus bits (exceto o registrador <span class="c34">W</span>) no qual s&atilde;o respons&aacute;veis pelo controle do microcontrolador (exceto o registrador <span class="c34">W</span>).
			</p>
			
			<p class="c11">
				Come&ccedil;aremos o estudo pelo registrador <span class="c47 c6 c34">STATUS</span>(contido nos bancos 0, 1, 2 e 3 e endere&ccedil;o de mem&oacute;ria <span class="definesASM1">0x03</span>, <span class="definesASM1">0x83</span> <span class="definesASM1">0x103</span> e <span class="definesASM1">0x183</span>) que &eacute; um dos registradores especiais mais utilizados, por necessidade de sele&ccedil;&atilde;o de qual banco de mem&oacute;ria se est&aacute; trabalhando no momento e tamb&eacute;m dos estados que algumas instru&ccedil;&otilde;es modificam.
			</p>
			
			<p class="c11">
				O registrador <span class="c47 c6 c34">STATUS</span>&eacute; composto pelos bits <span class="c47 c6 c34">IRP</span>, <span class="c47 c6 c34">RP1</span>, <span class="c47 c6 c34">RP0</span>, <span class="c59 c47 c6 c34">TO</span>, <span class="c59 c47 c6 c34">PD</span>, <span class="c47 c6 c34">Z</span>, <span class="c47 c6 c34">DC</span> e <span class="c47 c6 c34">C</span> conforme a Tabela 3.1.
			</p>
			
			<p class="c12">
				<span class="c34">Tabela 3.1 -</span> Bits do registrador <span class="c47 c6 c34">STATUS</span>
			</p>
			
			<table class="c7">
				<tbody>
					<tr class="c21">
						<td class="c84">
							<p class="c19">
								<span class="c5">tipo-valor</span>
							</p>
						</td>
						<td class="c126">
							<p class="c1">
								<span class="c5">R/W-0</span></p></td><td class="c126"><p class="c1"><span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c126">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c126">
							<p class="c1">
								<span class="c5">R-1</span>
							</p>
						</td>
						<td class="c126">
							<p class="c1">
								<span class="c5">R-1</span>
							</p>
						</td>
						<td class="c126">
							<p class="c1">
								<span class="c5">R/W-x</span>
							</p>
						</td>
						<td class="c126">
							<p class="c1">
								<span class="c5">R/W-x</span>
							</p>
						</td>
						<td class="c126">
							<p class="c1">
								<span class="c5">R/W-x</span>
							</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c157">
							<p class="c19">
								<span class="c5">bit</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">IRP</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">RP1</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">RP0</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">TO</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">PD</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">Z</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">DC</span>
							</p>
						</td>
						<td class="c166">
							<p class="c1">
								<span class="c42 c47 c34 c53">C</span>
							</p>
						</td>
					</tr>
					<tr class="c185">
						<td class="c84">
							<p class="c19">
								<span class="c5">posi&ccedil;&atilde;o</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 7</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 6</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 5</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 4</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 3</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 2</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 1</span>
							</p>
						</td>
						<td class="c146">
							<p class="c1">
								<span class="c5">bit 0</span>
							</p>
						</td>
					</tr>
				</tbody>
			</table>
			
			<p class="c11">
				<span class="textoVermelho">Fonte: MICROCHIP 2020 (b) pag. 24</span>
			</p>
			
			<p class="c11">
				Na Tabela 3.1, a letra R e W em tipo-valor representam respectivamente que o <i>bit</i>&eacute; de leitura e escrita, enquanto que o valor 0 ou 1 representa que este &eacute; o valor inicial por um <i>reset</i>, enquanto que se o valor for x, representa que o seu valor &eacute; desconhecido.
			</p>
			
			<p class="c11">
				O primeiro <i>bit</i>do registrador <span class="c47 c6 c34">STATUS</span>, &eacute; o <i>bit</i> <span class="c47 c6 c34">IRP</span>(<i>Register Bank Select bit</i>) usado para endere&ccedil;amento indireto, no qual se ele for igual a 0, indexa os bancos de mem&oacute;ria 0 e 1, isto &eacute;, ser&atilde;o indexados os endere&ccedil;os de mem&oacute;ria de <span class="definesASM1">0x00</span>a <span class="definesASM1">0xFF</span>. J&aacute; se o <i>bit</i> <span class="c47 c6 c34">IRP</span>for igual a 1, indexa os bancos de mem&oacute;ria 2 e 3, isto &eacute;, ser&atilde;o indexados os endere&ccedil;os de mem&oacute;ria de <span class="definesASM1">0x100</span> a <span class="definesASM1">0x1FF</span>. Nesses epis&oacute;dios n&atilde;o trabalharemos com endere&ccedil;amento indireto.
			</p>
			
			<p class="c11">
				Os <i>bits</i> <span class="c34">RP1</span> e <span class="c34">RP0</span> s&atilde;o os <i>bits</span> respons&aacute;veis pela sele&ccedil;&atilde;o do banco de registradores para acesso direto &agrave; mem&oacute;ria, onde s&atilde;o definidos seus valores conforme a Tabela 3.2.
			</p>
			
			<p class="c12">
				<span class="c34">Tabela 3.2 -</span> <i>Bits</span> de sele&ccedil;&atilde;o de banco de mem&oacute;ria
			</p>
			
			<table class="c232">
				<tbody>
					<tr class="c21">
						<td class="c170">
							<p class="c1">
								<span class="c60 c47 c6 c34 c53">RP1</span>
							</p>
						</td>
						<td class="c55">
							<p class="c1">
								<span class="c60 c47 c6 c34 c53">RP0</span>
							</p>
						</td>
						<td class="c208">
							<p class="c1">Banco selecionado</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c170">
							<p class="c1">0</p>
						</td>
						<td class="c55">
							<p class="c1">0</p>
						</td>
						<td class="c208">
							<p class="c1"><i>Bank</i> 0</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c170">
							<p class="c1">0</p>
						</td>
						<td class="c55">
							<p class="c1">1</p>
						</td>
						<td class="c208">
							<p class="c1"><i>Bank</i>1</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c170">
							<p class="c1">1</p>
						</td>
						<td class="c55">
							<p class="c1">0</p>
						</td>
						<td class="c208">
							<p class="c1"><i>Bank</i>2</i></p>
						</td>
					</tr>
					<tr class="c245">
						<td class="c170">
							<p class="c1">1</p>
						</td>
						<td class="c55">
							<p class="c1">1</p>
						</td>
						<td class="c208">
							<p class="c1"><i>Bank</i>3</i></p>
						</td>
					</tr>
				</tbody>
			</table>
			
			<p class="c11">
				<span class="citacaoFigura">Fonte: MICROCHIP 2020 (b) pag. 24</span>
			</p>
			
			<p class="c11">
				Os <i>bits</i> <span class="c59 c47 c6 c34">TO</span>(<span class="c6 c34 c37">T<i>ime </span><span class="c6 c34 c37">O<i>ut</i></span>) e <span class="c59 c47 c6 c34">PD</span>(<span class="c6 c34 c37">P<i>ower-</i></span> <span class="c6 c34 c37">D<i>own</i></span>) s&atilde;o <i>bits</i>de estados relacionados a uma ocorr&ecirc;ncia de <i>Watchdog Timer</i>ou <i>Sleep</i>e veremos em epis&oacute;dios posteriores.
			</p>
			
			<p class="c11">
				J&aacute; o <i>bit</i> <span class="c47 c6 c34">Z</span> (<i>Zero</i>), &eacute; o <i>bit</i> respons&aacute;vel por expressar se uma opera&ccedil;&atilde;o aritm&eacute;tica ou l&oacute;gica teve como resultado o valor 0. Se a opera&ccedil;&atilde;o aritm&eacute;tica ou l&oacute;gica resultou em 0, o <i>bit</i> <span class="c47 c6 c34">Z</span> ser&aacute; setado, isto &eacute;, ficar&aacute; com valor 1, caso contr&aacute;rio, o <i>bit</i> <span class="c47 c6 c34">Z</span> ser&aacute; limpo, isto &eacute;, ficar&aacute; com o valor 0.
			</p>
			
			<p class="c11">
				Antes de falarmos nos <i>bits</i> restantes de do registrador <span class="c47 c6 c34">STATUS</span>, temos que esclarecer o que s&atilde;o <i>nibbles</i> em um n&uacute;mero bin&aacute;rio.
			</p>
			
			<table class="c56">
				<tbody>
					<tr class="c21">
						<td class="c155">
							<p class="c11">
								<span class="c6 c39 c34">IMPORTANTE:</span> Um <i>nibble</i> &eacute; uma sequ&ecirc;ncia de 4 <i>bits</i> em um n&uacute;mero bin&aacute;rio. Um n&uacute;mero bin&aacute;rio de 1 <i>byte</i>, que representa 8 <i>bits</i>, &eacute; composto por 2 <i>nibbles</i>.
							</p>
							
							<p class="c11">
								<span class="c34">Exemplo:</span> O n&uacute;mero 154<span class="c6 c62">10</span> escrito na base bin&aacute;ria, &eacute; representado por 10011010<span class="c6 c62">2</span>, assim:
							</p>
							
							<table class="c200">
								<tbody>
									<tr class="c21">
										<td class="c132">
											<p class="c24">
												1001<span class="c131 c6 c62 c50 c53 c44">2</span>
											</p>
										</td>
										<td class="c213">
											<p class="c67 c35">
												representa o <i>nibble</i> mais significativo do n&uacute;mero bin&aacute;rio 10011010<span class="c6 c62">2</span>, isto &eacute;, representa os quatro <i>bits</i> mais &agrave; esquerda do n&uacute;mero bin&aacute;rio 10011010<span class="c6 c62">2.</span>
											</p>
										</td>
									</tr>
									<tr class="c21">
										<td class="c132">
											<p class="c24">
												1010<span class="c6 c62">2</span>
											</p>
										</td>
										<td class="c213">
											<p class="c67">
												representa o <i>nibble</i> menos significativo do n&uacute;mero bin&aacute;rio 10011010<span class="c6 c62">2</span>, isto &eacute;, representa os quatro <i>bits</i> mais &agrave; direita do n&uacute;mero bin&aacute;rio 10011010<span class="c6 c62">2.</span>
											</p>
										</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
			</table>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">DC</span> (<i>Digit Carry</i>/<span class="c59 c6 c37">borrow</span>) tem seu estado modificado pelas instru&ccedil;&otilde;es <span class="c3">ADDWF</span>, <span class="c3">ADDLW</span>, <span class="c3">SUBWF</span> e <span class="c3">SUBLW</span>, onde as regras s&atilde;o:
			</p>
			
			<ul class="c80 lst-kix_452ijsx0ndh0-0 start">
				<li class="c31">
					o <i>bit</i> <span class="c47 c6 c34">DC</span> &eacute; igual a 1 quando o <i>nibble</i> menos significativo passar de <span class="definesASM1">0xF</span> para <span class="definesASM1">0x0</span>, isto &eacute;, quando houver um estouro no <i>nibble</i> menos significativo, e &eacute; igual a 0 caso o contr&aacute;rio. O <i>digit carry</i> est&aacute; associado &agrave;s instru&ccedil;&otilde;es <span class="c3">ADDWF</span>e <span class="c3">ADDLW</span>;</li>
			</ul>
			
			<ul class="c80 lst-kix_452ijsx0ndh0-0">
				<li class="c31">
					o <i>bit</i> <span class="c47 c6 c34">DC</span> &eacute; igual a 1 quando o <i>nibble</i> menos significativo passar de <span class="definesASM1">0xF</span>para <span class="definesASM1">0x0</span>, e isso ocorre na subtra&ccedil;&atilde;o por causa da a&ccedil;&atilde;o da adi&ccedil;&atilde;o de complemento de 2 do segundo operando. Assim para <span class="c59 c6 c37">borrow</span> (empr&eacute;stimo quando o primeiro operando for menor que o segundo operando) a polaridade &eacute; reversa, por causa de <span class="c3">SUBWF</span> e <span class="c3">SUBLW.</span></li>
			</ul>
			
			<p class="c11">
				O bit <span class="c47 c6 c34">C</span> (<i>carry</i>/<span class="c59 c6 c37">borrow</span>) tem seu estado modificado pelas instru&ccedil;&otilde;es <span class="c3">ADDWF</span>, <span class="c3">ADDLW</span>, <span class="c3">SUBWF</span>e <span class="c3">SUBLW</span>, e as regras para modifica&ccedil;&atilde;o do seu estado s&atilde;o:
			</p>
			
			<ul class="c80 lst-kix_c8lbyj56p99l-0 start">
				<li class="c31">
					o <i>bit</i> <span class="c47 c6 c34">C</span> &eacute; igual a 1 quando as instru&ccedil;&otilde;es <span class="c3">ADDWF</span>e <span class="c3">ADDLW</span> gerarem valor maior que <span class="definesASM1">0xFF</span> e 0 caso o contr&aacute;rio;</li>
			</ul>
			
			<ul class="c80 lst-kix_c8lbyj56p99l-0">
				<li class="c31">
					o <i>bit</i> <span class="c47 c6 c34">C</span> &eacute; igual a 1 quando as instru&ccedil;&otilde;es <span class="c3">SUBWF</span> e <span class="c3">SUBLW</span> gerarem valor maior que <span class="definesASM1">0xFF</span>, pois como comentado anteriormente, a subtra&ccedil;&atilde;o &eacute; obtida por adi&ccedil;&atilde;o ao complemento de 2 do segundo operando, e 0 caso o contr&aacute;rio;</li>
			</ul>
			
			<ul class="c80 lst-kix_c8lbyj56p99l-0">
				<li class="c31">
					o <i>bit</i> <span class="c47 c6 c34">C</span> pode ter seu estado modificado quando fizer uso das instru&ccedil;&otilde;es <span class="c3">RRF</span> e <span class="c3">RLF</span> como ser&atilde;o vistas posteriormente no epis&oacute;dio 9.</li>
			</ul>
			
			<p class="c11">
				Outro registrador especial &eacute; o registrador <span class="c47 c6 c34">OPTION_REG</span> (contido nos bancos 1 e 3 e endere&ccedil;os <span class="definesASM1">0x81</span> e <span class="definesASM1">0x181</span>) e seus bits s&atilde;o: <span class="c59 c47 c6 c34">RBPU</span>, <span class="c47 c6 c34">INTEDG</span>, <span class="c47 c6 c34">T0CS</span>, <span class="c47 c6 c34">T0SE</span>, <span class="c47 c6 c34">PSA</span>, <span class="c47 c6 c34">PS2</span>, <span class="c47 c6 c34">PS1</span> e <span class="c47 c6 c34">PS0</span> conforme a Tabela 3.3.
			</p>
			
			<p class="c12">
				<span class="c34">Tabela 3.3 -</span> Bits do registrador <span class="c47 c6 c34">OPTION_REG</span>
			</p>
			
			<table class="c7">
				<tbody>
					<tr class="c21">
						<td class="c84">	
							<p class="c19">
								<span class="c5">tipo-valor</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
						<td class="c162">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
						<td class="c160">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-1</span>
							</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c157">
							<p class="c19">
								<span class="c5">bit</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c59 c255 c47 c34 c53 c256">RBPU</span>
							</p>
						</td>
						<td class="c105">
							<p class="c1">
								<span class="c42 c47 c34 c53">INTEDG</span>
							</p>
						</td>
						<td class="c137">
							<p class="c1">
								<span class="c42 c47 c34 c53">T0CS</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">T0SE</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">PSA</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">PS2</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">PS1</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">PS0</span>
							</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c84">
							<p class="c19">
								<span class="c5">posi&ccedil;&atilde;o</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 7</span>
							</p>
						</td>
						<td class="c152">
							<p class="c1">
								<span class="c5">bit 6</span>
							</p>
						</td>
						<td class="c189">
							<p class="c1">
								<span class="c5">bit 5</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 4</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 3</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 2</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 1</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 0</span>
							</p>
						</td>
					</tr>
				</tbody>
			</table>
				
			<p class="c11">
				<span class="textoVermelho">Fonte: MICROCHIP 2020 (b) pag. 25</span>
			</p>
			
			<p class="c11">
				O bit <span class="c59 c47 c6 c34">RBPU</span> &eacute; o <i>bit</i> respons&aacute;vel por ativar os estados em <i>pull-up</i> dos <i>bits</i> da porta <span class="c47 c6 c34">PORTB</span>, que ser&aacute; visto no epis&oacute;dio 4, onde <span class="c59 c47 c6 c34">RBPU</span> &eacute; igual a 1 quando se quer desabilitar os estados <i>pull-up</i> dos <i>bits</i> de <span class="c47 c6 c34">PORTB</span> e igual a 0 caso o contr&aacute;rio. Note a marca&ccedil;&atilde;o barrada em <span class="c59 c47 c6 c34">RBPU</span>, necessitando trabalhar com l&oacute;gica inversa.
			</p>
			<p class="c11">
				Na Figura 3.1 pode-se ver um exemplo de resistor <i>pull-up</i> de 10 k
				 <span class="c6 c182 c252">&Omega;</span> no qual faz a sa&iacute;da output iniciar em n&iacute;vel alto (valor V<span class="c6 c62">CC</span>) e quando pressionado o bot&atilde;o <i>KEY1</i>, a sa&iacute;da ficar&aacute; em n&iacute;vel baixo (GND - 0V) e para saber mais sobre resistor <i>pull-up</i> acesse <span class="linkDoc1"><a href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Pull-up_resistor&amp;sa=D&amp;source=editors&amp;ust=1619797899052000&amp;usg=AOvVaw1OisnnKS3U93u1w2flb40q">https://en.wikipedia.org/wiki/Pull-up_resistor</a></span>.
			</p>
			
			<p class="c12">
				<span class="c34">Figura 3.1 -</span> Resistor <span class="c142 c6 c50 c53 c37 c44">pull-up</span>
			</p>
			
			<table class="c235">
				<tbody>
					<tr class="c21">
						<td class="c253">
							<p class="c12">
								<img src="./figures/Resistor_pull_up.png" style="width: 259.28px; height: 213.15px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="Resistor pull-up" alt="Resistor pull-up"/>
							</p>
						</td>
					</tr>
				</tbody>
			</table>
			
			<p class="c11">
				<span class="citacaoFigura">Fonte: Autor 2020</span>
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">INTEDG</span> &eacute; o bit respons&aacute;vel por selecionar o tipo de borda de disparo da interrup&ccedil;&atilde;o externa, que ser&aacute; vista no epis&oacute;dio 12. Se este <i>bit</i> for igual a 1, o disparo da interrup&ccedil;&atilde;o ser&aacute; sobre a borda de subida e se for igual a 0, ter&aacute; o disparo sobre a borda de descida.
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">T0CS</span> &eacute; o <i>bit</i> respons&aacute;vel por selecionar a fonte de incremento do <i>Timer0</i>, que ser&aacute; visto no epis&oacute;dio 14, onde ele ser&aacute; igual a 1 quando o <i>clock</i> do <i>Timer0</i> adv&eacute;m de fonte externa no pino <span class="c47 c6 c34">RA4</span> e igual a 0 quando o <i>Timer0</i> fizer uso do <i>clock</i> do ciclo de instru&ccedil;&atilde;o (<i>clock</i> interno).
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">T0SE</span> &eacute; o <i>bit</i> respons&aacute;vel por selecionar o tipo de transi&ccedil;&atilde;o quando selecionado a fonte externa (<span class="c47 c6 c34">T0CS</span>=1) no bit <span class="c47 c6 c34">T0CS</span> para o incremento do <i>Timer0</i>. Se o <i>bit</i> <span class="c47 c6 c34">T0SE</span> for igual a 1, o incremento &eacute; feito na transi&ccedil;&atilde;o de alto-para-baixo e 0 na transi&ccedil;&atilde;o de baixo-para-alto.
			</p>
			
			<p class="c11">
				O bit <span class="c47 c6 c34">PSA</span> &eacute; o <i>bit</i> respons&aacute;vel por selecionar a qual perif&eacute;rico o <i>Prescaler</i> (taxa de incremento) &eacute; atribu&iacute;do. Se <span class="c47 c6 c34">PSA</span> for igual a 1, o <i>Prescaler</i> ser&aacute; atribu&iacute;do ao <i>Watchdog Timer</i> (<i>WDT</i>) que ser&aacute; visto no epis&oacute;dio 25 e se for igual a 0, o <i>Prescaler</i> ser&aacute; atribu&iacute;do ao <i>Timer</i> 0.
			</p>
			
			<p class="c11">
				E por &uacute;ltimo os <i>bits</i> <span class="c47 c6 c34">PS2</span>, <span class="c47 c6 c34">PS1</span> e <span class="c47 c6 c34">PS0</span>, que s&atilde;o os <i>bits</i> de configura&ccedil;&atilde;o da taxa de incremento do <i>Timer0</i> ou <i>Watchdog Timer</i>, conforme a Tabela 3.4.
			</p>
			
			<p class="c12">
				<span class="c34">Tabela 3.4 -</span> Configura&ccedil;&atilde;o da taxa de incremento do <i>Timer0</i> ou <span class="c142 c6 c50 c53 c37 c44">Watchdog Timer</span>.
			</p>
			
			<table class="c241">
				<tbody>
					<tr class="c21">
						<td class="c77">
							<p class="c104">
								<span class="c60 c47 c6 c34 c53">PS2</span>
							</p>
						</td>
						<td class="c124">
							<p class="c104">
								<span class="c60 c47 c6 c34 c53">PS1</span>
							</p>
						</td>
						<td class="c61">
							<p class="c104">
								<span class="c60 c47 c6 c34 c53">PS0</span>
							</p>
						</td>
						<td class="c64">
							<p class="c104">
								<span class="c34">Taxa de inc. de</span> <span class="c142 c6 c34 c50 c53 c37">Timer0</span>
							</p>
						</td>
						<td class="c144">
							<p class="c104">
								<span class="c34">Taxa de inc. de</span> <span class="c142 c6 c34 c50 c53 c37">WDT</span>
							</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">0</p>
						</td>
						<td class="c124">
							<p class="c109">0</p>
						</td>
						<td class="c61">
							<p class="c109">0</p>
						</td>
						<td class="c64">
							<p class="c109">1:2</p>
						</td>
						<td class="c144">
							<p class="c109">1:1</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">0</p></td><td class="c124"><p class="c109">0</p></td><td class="c61"><p class="c109">1</p></td><td class="c64"><p class="c109">1:4</p></td><td class="c144"><p class="c109">1:2</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">0</p>
						</td>
						<td class="c124">
							<p class="c109">1</p>
						</td>
						<td class="c61">
							<p class="c109">0</p>
						</td>
						<td class="c64">
							<p class="c109">1:8</p>
						</td>
						<td class="c144">
							<p class="c109">1:4</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">0</p>
						</td>
						<td class="c124">
							<p class="c109">1</p>
						</td>
						<td class="c61">
							<p class="c109">1</p>
						</td>
						<td class="c64">
							<p class="c109">1:16</p>
						</td>
						<td class="c144">
							<p class="c109">1:8</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">1</p>
						</td>
						<td class="c124">
							<p class="c109">0</p>
						</td>
						<td class="c61">
							<p class="c109">0</p>
						</td>
						<td class="c64">
							<p class="c109">1:32</p>
						</td>
						<td class="c144">
							<p class="c109">1:16</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">1</p>
						</td>
						<td class="c124">
							<p class="c109">0</p>
						</td>
						<td class="c61">
							<p class="c109">1</p>
						</td>
						<td class="c64">
							<p class="c109">1:64</p>
						</td>
						<td class="c144">
							<p class="c109">1:32</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">1</p>
						</td>
						<td class="c124">
							<p class="c109">1</p>
						</td>
						<td class="c61">
							<p class="c109">0</p>
						</td>
						<td class="c64">
							<p class="c109">1:128</p>
						</td>
						<td class="c144">
							<p class="c109">1:64</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c77">
							<p class="c109">1</p>
						</td>
						<td class="c124">
							<p class="c109">1</p>
						</td>
						<td class="c61">
							<p class="c109">1</p>
						</td>
						<td class="c64">
							<p class="c109">1:256</p>
						</td>
						<td class="c144">
							<p class="c109">1:128</p>
						</td>
					</tr>
				</tbody>
			</table>
			
			<p class="c11">
				<span class="citacaoFigura">Fonte: MICROCHIP 2020 (b) pag. 25</span>
			</p>
			
			<p class="c11">
				Outro registrador especial importante &eacute; o <span class="c47 c6 c34">INTCON</span> (contido nos bancos 0, 1, 2 e 3 nos endere&ccedil;os <span class="definesASM1">0x0B</span>, <span class="definesASM1">0x8B</span>, <span class="definesASM1">0x10B</span>, <span class="definesASM1">0x18B</span>) e seus <i>bits</i> s&atilde;o <span class="c47 c6 c34">GIE</span>, <span class="c47 c6 c34">PEIE</span>, <span class="c47 c6 c34">T0IE</span>, <span class="c47 c6 c34">INTE</span>, <span class="c47 c6 c34">RBIE</span>, <span class="c47 c6 c34">T0IF</span>, <span class="c47 c6 c34">INTF</span> e <span class="c47 c6 c34">RBIF</span> conforme a Tabela 3.5.
			</p>
			
			<p class="c12">
				<span class="c34">Tabela 3.5 -</span> <i>Bits</i> do registrador <span class="c47 c6 c34 c37">INTCON</span>
			</p>
			
			<table class="c7">
				<tbody>
					<tr class="c21">
						<td class="c84">
							<p class="c19">
								<span class="c5">tipo-valor</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c162">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c160">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-0</span>
							</p>
						</td>
						<td class="c134">
							<p class="c1">
								<span class="c5">R/W-x</span>
							</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c157">
							<p class="c19">
								<span class="c5">bit</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">GIE</span>
							</p>
						</td>
						<td class="c105">
							<p class="c1">
								<span class="c42 c47 c34 c53">PEIE</span>
							</p>
						</td>
						<td class="c137">
							<p class="c1">
								<span class="c42 c47 c34 c53">T0IE</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">INTE</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">RBIE</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">T0IF</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">INTF</span>
							</p>
						</td>
						<td class="c167">
							<p class="c1">
								<span class="c42 c47 c34 c53">RBIF</span>
							</p>
						</td>
					</tr>
					<tr class="c21">
						<td class="c84">
							<p class="c19">
								<span class="c5">posi&ccedil;&atilde;o</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 7</span>
							</p>
						</td>
						<td class="c152">
							<p class="c1">
								<span class="c5">bit 6</span>
							</p>
						</td>
						<td class="c189">
							<p class="c1">
								<span class="c5">bit 5</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 4</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 3</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 2</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 1</span>
							</p>
						</td>
						<td class="c69">
							<p class="c1">
								<span class="c5">bit 0</span>
							</p>
						</td>
					</tr>
				</tbody>
			</table>
			
			<p class="c11">
				<span class="textoVermelho">Fonte: MICROCHIP 2020 (b) pag. 26</span>
			</p>
			
			<p class="c11">
				O primeiro <i>bit</i> &eacute; o <i>bit</i> <span class="c47 c6 c34">GIE</span> que &eacute; respons&aacute;vel por permitir ou n&atilde;o permitir que todas as interrup&ccedil;&otilde;es sejam executadas. Esse <i>bit</i> &eacute; conhecido como a chave geral de todas as interrup&ccedil;&otilde;es e a Figura 3.2 exibe a fun&ccedil;&atilde;o do <i>bit</i> <span class="c47 c6 c34">GIE</span>. Se o valor do <i>bit</i> <span class="c47 c6 c34">GIE</span>for igual a 1 (setado) &eacute; permitido as interrup&ccedil;&otilde;es serem enviadas ao processamento pelo PIC, mas se o <i>bit</i>for igual a 0 (limpo), as interrup&ccedil;&otilde;es n&atilde;o ser&atilde;o processadas pelo PIC.
			</p>
			
			<p class="c11">
				O bit <span class="c47 c6 c34">PEIE</span>&eacute; o <i>bit</i> para ativar (valor igual a 1, setado) ou desativar (valor igual a 0, limpo) as interrup&ccedil;&otilde;es de perif&eacute;ricos (<i>Timer1</i>, <i>Timer2</i>, M&oacute;dulo de capturar/comparar/<i>PWM</i>, M&oacute;dulo comparador, <i>USART</i> e <i>EEPROM</i>) e isto pode ser visto na Figura 3.2.
			</p>
			
			<p class="c12">
				<span class="c34">Figura 3.2</span>- L&oacute;gica das interrup&ccedil;&otilde;es</span>
			</p>
			
			<table class="c56">
				<tbody>
					<tr class="c21">
						<td class="c68">
							<p class="c11">
								<img src="./figures/Interrupts_logic.png" style="width: 590.00px; height: 189.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="Interrupts logic" alt="Interrupts logic"/>
							</p>
						</td>
					</tr>
				</tbody>
			</table>
			
			<p class="c19">
				<span class="citacaoFigura">Fonte: MICROCHIP 2020 (b) pag. 109</span>
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">T0IE</span> &eacute; o <i>bit</i> para ativar (valor igual a 1, setado) ou desativar (valor igual a 0, limpo) a interrup&ccedil;&atilde;o por estouro no registrador <span class="c47 c6 c34">TMR0</span>do <i>Timer0</i> que ser&aacute; vista no epis&oacute;dio 14.
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">INTE</span> &eacute; o <i>bit</i> para ativar (valor igual a 1, setado) ou desativar (valor igual a 0, limpo) a interrup&ccedil;&atilde;o externa no pino <span class="c47 c6 c34">RB0</span>que ser&aacute; vista no epis&oacute;dio 12.
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">RBIE</span> &eacute; o <i>bit</i> para ativar (valor igual a 1, setado) ou desativar (valor igual a 0, limpo) a interrup&ccedil;&atilde;o por mudan&ccedil;a de estados nos pinos <span class="c47 c6 c34">RB4</span> a <span class="c47 c6 c34">RB7</span> que ser&aacute; vista no epis&oacute;dio 13.
			</p>
			
			<p class="c11">
				<span class="c6 c39 c34">OBSERVA&Ccedil;&Atilde;O:</span> Note que os <i>bits</i> acima terminam com a letra E (de <i>Enable</i>) e permitem ativar ou desativar as interrup&ccedil;&otilde;es. J&aacute; os pr&oacute;ximos bits que veremos terminam com a letra F (de <i>Flag</i>), que ser&atilde;o respons&aacute;veis por saber se a interrup&ccedil;&atilde;o ocorreu ou n&atilde;o.
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">T0IF</span> &eacute; o <i>bit</i> respons&aacute;vel por informar se ocorreu (valor igual a 1, setado) ou n&atilde;o ocorreu (valor igual a 0, limpo) a interrup&ccedil;&atilde;o por estouro no registrador <span class="c47 c6 c34">TMR0</span>.
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">INTF</span> e o <i>bit</i> respons&aacute;vel por informar se ocorreu (valor igual a 1, setado) ou n&atilde;o ocorreu (valor igual a 0, limpo) a interrup&ccedil;&atilde;o externa no pino <span class="c47 c6 c34">RB0</span>.
			</p>
			
			<p class="c11">
				O <i>bit</i> <span class="c47 c6 c34">RBIF</span> &eacute; o <i>bit</i> respons&aacute;vel por informar se ocorreu (valor igual a 1, setado) ou n&atilde;o ocorreu (valor igual a 0, limpo) a interrup&ccedil;&atilde;o por mudan&ccedil;a de estados nos pinos <span class="c47 c6 c34">RB4</span>a <span class="c47 c6 c34">RB7</span>.
			</p>
			
			<p class="c11">
				Outro registrador especial e importante que ser&aacute; o mais utilizado no software (<i>firmware</i> - <span class="c6 c222 c182">&eacute; uma classe espec&iacute;fica de software de computador que fornece controle de baixo n&iacute;vel para o hardware espec&iacute;fico do dispositivo, conforme Wikipedia em </span><span class="c43 c6 c182"><a href="https://www.google.com/url?q=https://pt.wikipedia.org/wiki/Firmware&amp;sa=D&amp;source=editors&amp;ust=1619797899078000&amp;usg=AOvVaw1ZIenQFvPXFlicv5we3_tb">https://pt.wikipedia.org/wiki/Firmware</a></span>) &eacute; o registrador <span class="c6 c34 c37">W</span>(<i>work</i>) visto no diagrama de blocos da Figura 1.5 do epis&oacute;dio 1, e &eacute; um registrador de 8 bits usado pela Unidade L&oacute;gica e Aritm&eacute;tica (<i>ALU</i>) e n&atilde;o &eacute; endere&ccedil;ado como os outros registradores nos bancos. Assim, as opera&ccedil;&otilde;es aritm&eacute;ticas de adi&ccedil;&atilde;o e subtra&ccedil;&atilde;o e tamb&eacute;m as opera&ccedil;&otilde;es l&oacute;gicas de <span class="c34">E</span> e <span class="c34">OU</span> l&oacute;gico necessitam do registrador <span class="c6 c34 c37">W</span>. Por&eacute;m, n&atilde;o somente essas opera&ccedil;&otilde;es fazem uso do registrador <span class="c6 c34 c37">W</span>, como veremos posteriormente nos pr&oacute;ximos epis&oacute;dios.
			</p>
			
			<p class="c11">
				Ainda neste mesmo epis&oacute;dio, veremos os registradores de uso geral que o desenvolvedor pode armazenar valores relativos &agrave;s suas necessidades de implementa&ccedil;&atilde;o, como por exemplo a quantidade de vezes que uma certa subrotina tem que repetir, a quantidade de cliques, entre outros motivos que veremos em exemplos posteriormente.
			</p>
			
			<p class="c11">
				Os registradores de uso geral do PIC16F628A est&atilde;o <span class="definesASM1">0x20</span> a <span class="definesASM1">0x6F</span> (80 <i>bytes</i> no banco 0), <span class="definesASM1">0x70</span> a <span class="definesASM1">0x7F</span> (16 <i>bytes</i> banco 0), <span class="definesASM1">0xA0</span> a <span class="definesASM1">0xEF</span> (80 <i>bytes</i> no banco 1) e <span class="definesASM1">0x120</span> a <span class="definesASM1">0x14F</span> (48 <i>bytes</i> no banco 2), totalizando 224 <i>bytes</i> de <i>RAM</i>.
			</p>
			
			<hr style="page-break-before:always;display:none;"/>
		</div>
	</body>
</html>