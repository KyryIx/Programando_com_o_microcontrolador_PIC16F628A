<html>
	<head>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<link rel="stylesheet" href="./style.css">
		<script src="./functions.js"></script>
	</head>
	<body>
		<div class="page" id="top">
			<p class="title">
				<span class="titlePrincipal">Epis&oacute;dio 10: Exemplo 2 - Criando delay no PIC16F628A</span></p>
			
			<p class="backPage"><a href="./Summary.html">Voltar ao &iacute;ndice</a></p>
			<p class="backPage"><a href="./Episode_9.html">Voltar ao Epis&oacute;dio 9</a></p>
			<p class="forwardPage"><a href="./Episode_11.html">Ir para Epis&oacute;dio 11</a></p>
			<hr class="indice"/>
			
			<p class="principal">Aqui neste epis&oacute;dio se abordar&aacute; o processo para &ldquo;pausa&rdquo; na execu&ccedil;&atilde;o de algumas tarefas desejadas</p>
			
			<p class="principal">No microcontrolador existem duas formas de &ldquo;parar&rdquo; de fazer algo que afeta o computador, sendo que a primeira &eacute; via instru&ccedil;&atilde;o <span class="instruction">NOP</span> ou pela instru&ccedil;&atilde;o <span class="instruction">SLEEP</span> que ser&aacute; vista no epis&oacute;dio 26. Aqui, veremos uma pausa por certo tempo, assim precisamos entender de ciclo de instru&ccedil;&atilde;o.</p>
			
			<p class="principal">A Figura 10.1 exibe as instru&ccedil;&otilde;es e seus devidos ciclos.</p>
			
			<table class="image">
				<thead>
					<tr>
						<th>
							<span class="figureTitle">Figura 10.1 -</span> Conjunto de instru&ccedil;&otilde;es do PIC16F628A
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<img src="./figures/PIC16F628_instructions_with_notes.png" style="width: 590.00px; height: 517.33px;" title="PIC16F628A map instructions with notes" alt="PIC16F628A map instructions with notes"/>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoFigura">
							<span>Fonte:</span> <span class="citacao"><a href="Reference.html#microchip_2020b" target="_blank">MICROCHIP 2020 (b) p&aacute;gina 117</a></span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">O microcontrolador PIC16F628A executa cada instru&ccedil;&atilde;o em um (ou dois, dependendo da instru&ccedil;&atilde;o) ciclo e cada ciclo de instru&ccedil;&atilde;o consome &eacute; dada pela equa&ccedil;&atilde;o, em segundos, da Figura 10.2.</p>
			
			<table class="image">
				<thead>
					<tr>
						<th>
							<span class="figureTitle">Figura 10.2 -</span> Tempo de execu&ccedil;&atilde;o de um ciclo no PIC16F628A
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<img src="./figures/cycle_time.png" style="width: 383.00px; height: 57.00px;" title="cycle time" alt="cycle time"/>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoFigura">
							<span>Fonte:</span> <span>Pr&oacute;prio autor (2020)</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Conforme datasheet do PIC16F628A na se&ccedil;&atilde;o "3.2 Instruction Flow/Pipelining", uma instru&ccedil;&atilde;o consiste de quatro ciclos Q (Q1, Q2, Q3 e Q4) onde a instru&ccedil;&atilde;o &eacute; buscada e executada em cada ciclo de instru&ccedil;&atilde;o, isto &eacute;, enquanto uma instru&ccedil;&atilde;o est&aacute; sendo buscada a seguinte que j&aacute; foi buscada est&aacute; sendo executada e isto &eacute; considerada na Figura 10.3 (Figura 2.10 sobre <i>Clock</i> e ciclo de instru&ccedil;&atilde;o) onde se tem quatro tempos Q1 a Q4.</p>
			
			<table class="image">
				<thead>
					<tr>
						<th>
							<span class="figureTitle">Figura 10.3 -</span> Ciclo de clock e instru&ccedil;&atilde;o de execu&ccedil;&atilde;o do PIC16F628A
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<img src="./figures/clock_execution_cycle.png" style="width: 590.00px; height: 208.00px;" title="clock and execution cycle" alt="clock and execution cycle"/>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoFigura">
							<span>Fonte:</span> <span class="citacao"><a href="Reference.html#microchip_2020b" target="_blank">MICROCHIP 2020 (b) p&aacute;gina 15</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Por exemplo, a instru&ccedil;&atilde;o <span class="instruction">NOP</span> consome 1 ciclo de instru&ccedil;&atilde;o conforme Figura 10.1. Assim, para uma frequ&ecirc;ncia de clock de 4 MHz, o tempo de execu&ccedil;&atilde;o de uma instru&ccedil;&atilde;o <span class="instruction">NOP</span> &eacute; de 1 &mu;s, conforme Figura 10.4 e se&ccedil;&atilde;o "15.1 Read-Modify-Write Operations" do datasheet do PIC16F628A.</p>
			
			<table class="image">
				<thead>
					<tr>
						<th>
							<span class="figureTitle">Figura 10.4 -</span> Tempo de execu&ccedil;&atilde;o da instru&ccedil;&atilde;o <span class="instruction">NOP</span>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<img src="./figures/calculate_NOP_time.png" style="width: 383.00px; height: 255.00px;" title="calculate NOP time" alt="calculate NOP time"/>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoFigura">
							<span>Fonte:</span> <span>Pr&oacute;prio autor</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Agora se a frequ&ecirc;ncia do clock for de 16 MHz ou 20 MHz a mesma instru&ccedil;&atilde;o ter&atilde;o o tempo de execu&ccedil;&atilde;o de 250 ns e 200 ns respectivamente</p>
			
			<p class="principal">Com essas informa&ccedil;&otilde;es pode-se projetar delay, baseando na quantidade de ciclos executados e na frequ&ecirc;ncia de clock utilizada no microcontrolador.</p>
			
			<p class="principal">Vamos aos exemplos usando como base a frequ&ecirc;ncia de clock igual a 4 MHz, logo cada ciclo &eacute; executado em 1 &mu;s</p>
			
			<p class="principal"><span class="example">EXEMPLO 10.1 - </span> Neste exemplo queremos criar um delay de 100 &mu;s, no qual se usa a frequ&ecirc;ncia de clock de 4 MHz no microcontrolador. Pelo comentado anteriormente, se o clock do PIC16F628A &eacute; de 4 MHz, temos que cada ciclo de instru&ccedil;&atilde;o &eacute; executado em 1 &mu;s, e como queremos 100 &mu;s, decorre que precisamos de &ldquo;consumir&rdquo; 100 ciclos. O C&oacute;digo 10.1 exibe uma solu&ccedil;&atilde;o para esta proposta de delay de 100 &mu;s.</p>
			
			<table class="code">
				<thead>
					<tr>
						<th>
							<span class="codeTitle">C&oacute;digo 10.1 -</span> Exemplo de delay de 100 &mu;s
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
<pre class="code">
<code>; inicia registrador de uso geral 0x20 com o valor 33 em decimal</code>
<code>     MOVLW       .33        ; 1 ciclo</code>
<code>     MOVWF       0x20       ; 1 ciclo</code>
<code>loop:</code>
<code>     DECFSZ      0x20       ; 1 ciclo   >---+--+    &lt;--+</code>
<code>                            ;               |  |       |</code>
<code>     GOTO        loop       ; 2 ciclos  &lt;---+  |    >--+</code>
<code>                            ;                  |</code>
<code>     NOP                    ; 1 ciclo   &lt;------+</code>
</pre>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoCode">
							<span>Fonte:</span> <span>Autor 2020</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Pelo C&oacute;digo 10.1 pode ser feita a seguinte an&aacute;lise baseada na Tabela 10.1.</p>
			
			<table class="data">
				<thead>
					<tr>
						<th>
							<span class="dataTitle">Tabela 10.1 -</span> An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.1
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<table class="dataValues">
								<thead>
									<tr>
										<th>INSTRU&Ccedil;&Atilde;O</th>
										<th>CICLO/INSTRU&Ccedil;&Atilde;O</th>
										<th>QUANT. EXECUTADA</th>
										<th>TOTAL</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><span class="instruction">MOVLW</span></td>
										<td>1 ciclo</td>
										<td>1 &times; 1 ciclo</td>
										<td>1 ciclo</td>
									</tr>
									<tr>
										<td><span class="instruction">MOVWF</span></td>
										<td>1 ciclo</td>
										<td>1 &times; 1 ciclo</td>
										<td>1 ciclo</td>
									</tr>
									<tr>
										<td><span class="instruction">DECFSZ</span></td>
										<td>1 ciclo</td>
										<td>33 &times; 1 ciclo</td>
										<td>33 ciclos</td>
									</tr>
									<tr>
										<td><span class="instruction">GOTO</span></td>
										<td>2 ciclos</td>
										<td>32 &times; 2 ciclos</td>
										<td>64 ciclos</td>
									</tr>
									<tr>
										<td><span class="instruction">NOP</span></td>
										<td>1 ciclo</td>
										<td>1 &times; 1 ciclo</td>
										<td>1 ciclo</td>
									</tr>
									<tr style="text-align:right;color:rgb(255,0,0);">
										<td></td>
										<td></td>
										<td><b>TOTAL</b></td>
										<td><b>100 ciclos = 100 &mu;s</b></td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoData">
							<span>Fonte:</span> <span>Pr&oacute;prio autor (2020)</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal"><span class="example">EXEMPLO 10.2 - </span> Neste exemplo queremos criar um delay de 1000 &mu;s (1 ms), no qual usando a frequ&ecirc;ncia de clock de 4 MHz, teremos que 1000 &mu;s &eacute; igual a 1000 ciclos. Vejamos o C&oacute;digo 10.2 esse delay.</p>
			
			<table class="code">
				<thead>
					<tr>
						<th>
							<span class="codeTitle">C&oacute;digo 10.2 -</span> Exemplo de delay de 1000 &mu;s (1 ms)
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
<pre class="code">
<code>; inicia registrador de uso geral 0x20 com o valor 250 em decimal</code>
<code>     MOVLW       .250       ; 1 ciclo</code>
<code>     MOVWF       0x20       ; 1 ciclo</code>
<code>loop:</code>
<code>     NOP                    ; 1 ciclo    &lt;--------------+</code>
<code>                            ;                           |</code>
<code>     DECFSZ      0x20       ; 1 ciclo;   >---+--+       |</code>
<code>                            ;                |  |       |</code>
<code>     GOTO        loop       ; 2 ciclos   &lt;---+  |    >--+</code>
<code>                            ;                   |</code>
<code>     NOP                    ;            &lt;------+</code>
</pre>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoCode">
							<span>Fonte:</span> <span>Autor 2020</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Pelo C&oacute;digo 10.2 pode ser feita a seguinte an&aacute;lise baseada na Tabela 10.2.</p>
			
			<table class="data">
				<thead>
					<tr>
						<th>
							<span class="dataTitle">Tabela 10.2 -</span> An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.2
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<table class="dataValues">
								<thead>
									<tr>
										<th>INSTRU&Ccedil;&Atilde;O</th>
										<th>CICLO/INSTRU&Ccedil;&Atilde;O</th>
										<th>QUANT. EXECUTADA</th>
										<th>TOTAL</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><span class="instruction">MOVLW</span></td>
										<td>1 ciclo</td>
										<td>1 &times; 1 ciclo</td>
										<td>1 ciclo</td>
									</tr>
									<tr>
										<td><span class="instruction">MOVWF</span></td>
										<td>1 ciclo</td>
										<td>1 &times; 1 ciclo</td>
										<td>1 ciclo</td>
									</tr>
									<tr>
										<td><span class="instruction">NOP</span></td>
										<td>1 ciclo</td>
										<td>250 &times; 1 ciclo</td>
										<td>250 ciclos</td>
									</tr>
									<tr>
										<td><span class="instruction">DECFSZ</span></td>
										<td>1 ciclo</td>
										<td>250 &times; 1 ciclo</td>
										<td>250 ciclos</td>
									</tr>
									<tr>
										<td><span class="instruction">GOTO</span></td>
										<td>2 ciclos</td>
										<td>249 &times; 2 ciclos</td>
										<td>498 ciclos</td>
									</tr>
									<tr style="text-align:right;color:rgb(255,0,0);">
										<td></td>
										<td></td>
										<td><b>TOTAL</b></td>
										<td><b>1000 ciclos = 1 ms</b></td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoData">
							<span>Fonte:</span> <span>Pr&oacute;prio autor (2020)</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Agora vejamos exemplos de loops em 1, 2 e 3 n&iacute;veis para que possamos calcular tempos. Vejamos o Exemplo 10.3, Exemplo 10.4 e Exemplo 10.5 que tratar&atilde;o de equacionar esses tempos</p>
			
			<p class="principal"><span class="example">Exemplo 10.3 - </span> Loop com 1 n&iacute;vel</p>
			
			<table class="code">
				<thead>
					<tr>
						<th>
							<span class="codeTitle">C&oacute;digo 10.3 -</span> Exemplo de delay com 1 n&iacute;vel
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
<pre class="code">
<code>; exemplo de delay com 1 nível</code>
<code>  MOVLW   .250  ; (1)                  ; 1 ciclo</code>
<code>  MOVWF   0x20  ; (2)                  ; 1 ciclo</code>
<code>loop:           ; (3) &lt;-------------+  ;</code>
<code>  ; ...         ; (4)               |  ; 250 por cada instrucao</code>
<code>                ; (5)               |  ;</code>
<code>  DECFSZ  0x20  ; (6) >---+---+     |  ; 250 * 1 ciclo  = 250 ciclos</code>
<code>                ; (7)     |   |     |  ;</code>
<code>  GOTO    loop  ; (8) &lt;---+   | >---+  ; 249 * 2 ciclos = 498 ciclos</code>
<code>                ; (9)         |        ;</code>
<code>                ; (10) &lt;------+        ; TOTAL = 750 ciclos</code>
</pre>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoCode">
							<span>Fonte:</span> <span>Autor 2020</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Assim, o total de ciclos para o Exemplo 10.3 &eacute; dada por:</p>
			
			<table align="center">
				<tr>
					<td rowspan="5" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= 2 ciclos + valor * 1 ciclo + (valor - 1) * 2 ciclos</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 2 ciclos + valor * 1 ciclo + valor * 2 ciclos - 1 * 2 ciclos</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 3 * valor [ciclos]</span></td>
				</tr>
			</table>
			
			<p class="principal">Assim, pelo C&oacute;digo 10.3, tem-se que o valor armazenado no registrador de endere&ccedil;o <span class="register">0x20</span> &eacute; 250<sub>10</sub>. Logo o total de ciclos &eacute; calculado como:</p>
			
			<table align="center">
				<tr>
					<td rowspan="5" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= 3 * valor [ciclos]</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 3 * 250 [ciclos]</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 750 [ciclos]</span></td>
				</tr>
			</table>
			
			<p class="principal">Na linha 5 (linha 4 do coment&aacute;rio) do C&oacute;digo 10.3, foi colocado retic&ecirc;ncias para dizer que podem haver mais instru&ccedil;&otilde;es. Assim se houver <i>n</i> instru&ccedil;&otilde;es de 1 ciclo de instru&ccedil;&atilde;o entre as 4 e 7 (linhas 3 e 6 do coment&aacute;rio) C&oacute;digo 10.3,  a express&atilde;o de <span class="equation">TOTAL CICLOS</span> ficar&aacute;:</p>
			
			<table align="center">
				<tr>
					<td rowspan="4" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= 2 ciclos + n * valor * 1 ciclo + valor * 1 ciclo + (valor -1) * 2 ciclos</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 2 ciclos + valor * n * 1 ciclo + valor * 1 ciclo + valor * 2 ciclos - 1 * 2 ciclos</span></td>
				</tr>
				<tr>
					<td><span class="equation">= valor * n ciclos + 3 * valor ciclos</span></td>
				</tr>
				<tr>
					<td><span class="equation">= (3 + n) * valor [ciclos]</span></td>
				</tr>
			</table>
			
			<p class="principal">Assim, se utilizarmos duas instru&ccedil;&otilde;es <span class="instruction">NOP</span> entre as linhas 4 e 7 do C&oacute;digo 10.3, teremos um total de :</p>
			
			<table align="center">
				<tr>
					<td rowspan="3" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= (3 + n) * valor [ciclos]</span></td>
				</tr>
				<tr>
					<td><span class="equation">= (3 + 2) * 250 [ciclos]</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 1250 [ciclos]</span></td>
				</tr>
			</table>
			
			<p class="principal">Agora veremos o Exemplo 10.4 o qual tratar&aacute; de delay com 2 n&iacute;veis, isto &eacute;, duas estruturas de repeti&ccedil;&atilde;o no c&oacute;digo.</p>
			
			<p class="principal"><span class="example">Exemplo 10.4 -</span> Neste exemplo veremos um delay com loop com 2 n&iacute;veis, como forma de aumentar o intervalo de tempo consumido. Veja o C&oacute;digo 10.4 o qual tem a implementa&ccedil;&atilde;o para esse delay fazendo uso de dois valores: 10<sub>10</sub> e 200<sub>10</sub>.</p>
			
			<table class="code">
				<thead>
					<tr>
						<th>
							<span class="codeTitle">C&oacute;digo 10.4 -</span> Exemplo de delay com dois n&iacute;veis
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
<pre class="code">
<code>; exemplo de delay com dois níveis</code>
<code>  MOVLW   .10   ; (1)</code>
<code>  MOVWF   0x20  ; (2)</code>
<code>  MOVLW   .200  ; (3)</code>
<code>  MOVWF   0x21  ; (4)</code>
<code>loop:           ; (5) &lt;---+ &lt;------------------+</code>
<code>                ; (6)     |                    |</code>
<code>  DECFSZ  0x20  ; (7)     | >---+              |</code>
<code>                ; (8)     |     |              |</code>
<code>  GOTO    loop  ; (9) >---+     |              |</code>
<code>                ; (10)          |              |</code>
<code>  DECFSZ  0x21  ; (11) &lt;--------+ >--+----+    |</code>
<code>                ; (12)               |    |    |</code>
<code>  GOTO    loop  ; (13) &lt;-------------+    | >--+</code>
<code>                ; (14)                    |</code>
<code>                ; (15) &lt;------------------+</code>
</pre>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoCode">
							<span>Fonte:</span> <span>Autor 2020</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Assim, pela Tabela 10.3, pode-se ver a an&aacute;lise da quantidade de ciclos utilizados nesta rotina de delay.</p>
			
			<table class="data">
				<thead>
					<tr>
						<th>
							<span class="dataTitle">Tabela 10.3 -</span> An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.4
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<table class="dataValues">
								<thead>
									<tr>
										<th>LINHA</th>
										<th>INSTRU&Ccedil;&Atilde;O</th>
										<th>QUANT. CICLOS</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>2 (1)</td>
										<td><span class="instruction">MOVLW</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>3 (2)</td>
										<td><span class="instruction">MOVWF</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>4 (3)</td>
										<td><span class="instruction">MOVLW</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>5 (4)</td>
										<td><span class="instruction">MOVWF</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>8 (7)</td>
										<td><span class="instruction">DECFSZ</span></td>
										<td><span class="equation">valor1 * 1 ciclo + 255 * 1 ciclo * valor2</span></td>
									</tr>
									<tr>
										<td>10 (9)</td>
										<td><span class="instruction">GOTO</span></td>
										<td><span class="equation">(valor1 - 1) * 2 ciclos + 254 * 2 ciclos * valor2</span></td>
									</tr>
									<tr>
										<td>12 (11)</td>
										<td><span class="instruction">DECFSZ</span></td>
										<td><span class="equation">valor2 * 1 ciclo</span></td>
									</tr>
									<tr>
										<td>14 (13)</td>
										<td><span class="instruction">GOTO</span></td>
										<td><span class="equation">(valor2 - 1) * 2 ciclos</span></td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoData">
							<span>Fonte:</span> <span>Pr&oacute;prio autor (2020)</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Assim, o total de ciclos para o exemplo &eacute; dada por:</p>
			
			<table align="center">
				<tr>
					<td rowspan="6" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= 4 ciclos + valor1 * 1 ciclo + 255 * 1 ciclo * valor2 +</span></td>
				</tr>
				<tr>
					<td><span class="equation">+ (valor1 - 1) * 2 ciclos + 254 * 2 ciclos * valor2 +</span></td>
				</tr>
				<tr>
					<td><span class="equation">+ valor2 * 1 ciclo + (valor2 - 1) * 2 ciclos</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 4 + valor1 + 255 * valor2 + 2 * valor1 - 2 + 508 * valor2 +</span></td>
				</tr>
				<tr>
					<td><span class="equation">+ valor2 + 2 * valor2 - 2</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 3 * valor1 + 766 * valor2 [ciclos]</span></td>
				</tr>
			</table>
			
			<p class="principal">Para o C&oacute;digo 10.4, o total de ciclos ser&aacute; de:</p>
			
			<table align="center">
				<tr>
					<td rowspan="6" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= 3 * valor1 + 766 * valor2 [ciclos]</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 3 * 10 + 766 * 200 [ciclos]</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 153230 [ciclos]</span></td>
				</tr>
			</table>
			
			<p class="principal">E por &uacute;ltimo, veremos um exemplo de loop com 3 n&iacute;veis. Nesta s&eacute;rie, baseamos os c&aacute;lculos em apenas 3 n&iacute;veis, mas o leitor pode estender isso para mais n&iacute;veis, aumentando gradualmente o intervalo de delay.</p>
			
			<p class="principal"><span class="example">Exemplo 10.5 -</span> Neste exemplo veremos um loo</span>p com 3 n&iacute;veis, que ser&aacute; o maior utilizado e comentado nos nossos exemplos desta s&eacute;rie. Os valores usados neste exemplo s&atilde;o: 10<sub>10</sub>, 200<sub>10</sub> e 133<sub>10</sub>.</p>
			
			<table class="code">
				<thead>
					<tr>
						<th>
							<span class="codeTitle">C&oacute;digo 10.5 -</span> Exemplo de delay com tr&ecirc;s n&iacute;veis
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
<pre class="code">
<code>; exemplo de delay com três níveis</code>
<code>  MOVLW   .10   ; (1)</code>
<code>  MOVWF   0x20  ; (2)</code>
<code>  MOVLW   .200  ; (3)</code>
<code>  MOVWF   0x21  ; (4)</code>
<code>  MOVLW   .133  ; (5)</code>
<code>  MOVWF   0x22  ; (6)</code>
<code>loop :          ; (7)  &lt;------------+ &lt;--+ &lt;--+</code>
<code>                ; (8)               |    |    |</code>
<code>  DECFSZ  0x20  ; (9)  >--+----+    |    |    |</code>
<code>                ; (10)    |    |    |    |    |</code>
<code>  GOTO    loop  ; (11) &lt;--+    | >--+    |    |</code>
<code>                ; (12)         |         |    |</code>
<code>  DECFSZ  0x21  ; (13) >--+ &lt;--+ >--+    |    |</code>
<code>                ; (14)    |         |    |    |</code>
<code>  GOTO    loop  ; (15) &lt;--+         | >--+    |</code>
<code>                ; (16)              |         |</code>
<code>  DECFSZ  0x22  ; (17) >--+ &lt;-------+ >--+    |</code>
<code>                ; (18)    |              |    |</code>
<code>  GOTO    loop  ; (19) &lt;--+              | >--+</code>
<code>                ; (20)                   |</code>
<code>                ; (21) &lt;-----------------+</code>
</pre>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoCode">
							<span>Fonte:</span> <span>Autor 2020</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Assim, baseado no C&oacute;digo 10.5, constr&oacute;i-se a Tabela 10.4 a qual faz a an&aacute;lise do total de ciclos deste fragmento de c&oacute;digo.</p>
			
			<table class="data">
				<thead>
					<tr>
						<th>
							<span class="dataTitle">Tabela 10.4 -</span> An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.5
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<table class="dataValues">
								<thead>
									<tr>
										<th>LINHA</th>
										<th>INSTRU&Ccedil;&Atilde;O</th>
										<th>QUANT. CICLOS</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>2 (1)</td>
										<td><span class="instruction">MOVLW</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>3 (2)</td>
										<td><span class="instruction">MOVWF</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>4 (3)</td>
										<td><span class="instruction">MOVLW</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>5 (4)</td>
										<td><span class="instruction">MOVWF</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>6 (5)</td>
										<td><span class="instruction">MOVLW</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td>7 (6)</td>
										<td><span class="instruction">MOVWF</span></td>
										<td>1</td>
									</tr>
									<tr>
										<td> 10 (9)</td>
										<td><span class="instruction">DECFSZ</span></td>
										<td><span class="equation">valor1 * 1 ciclo + 255 * valor2 * valor3 * 1 ciclo</span></td>
									</tr>
									<tr>
										<td> 12 (11)</td>
										<td><span class="instruction">GOTO</span></td>
										<td><span class="equation">(valor1 - 1) * 2 ciclos + 254 * valor2 * valor3 * 2 ciclos</span></td>
									</tr>
									<tr>
										<td>14 (13)</td>
										<td><span class="instruction">DECFSZ</span></td>
										<td><span class="equation">valor2 * 1 ciclo + 255 * valor3 * 1 ciclo</span></td>
									</tr>
									<tr>
										<td>16 (15)</td>
										<td><span class="instruction">GOTO</span></td>
										<td><span class="equation">(valor1 - 1) * 2 ciclos + 254 * valor3 * 2 ciclos</span></td>
									</tr>
									<tr>
										<td>18 (17)</td>
										<td><span class="instruction">DECFSZ</span></td>
										<td><span class="equation">valor3 * 1 ciclo</span></td>
									</tr>
									<tr>
										<td>20 (19)</td>
										<td><span class="instruction">GOTO</span></td>
										<td><span class="equation">(valor3 - 1) * 2 ciclos</span></td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoData">
							<span>Fonte:</span> <span>Pr&oacute;prio autor (2020)</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Com isso, o total de ciclos &eacute; dada por:</p>
			
			<table align="center">
				<tr>
					<td rowspan="6" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= 4 + valor1 + 255 * valor2 * valor3 + (valor1 - 1) * 2 +</span></td>
				</tr>
				<tr>
					<td><span class="equation">+ 254 * valor2 * valor3 * 2 + valor2 + 255 * valor3 +</span></td>
				</tr>
				<tr>
					<td><span class="equation">+ (valor1 - 1) * 2 + 254 * valor3 * 2 + valor3 +</span></td>
				</tr>
				<tr>
					<td><span class="equation">+ (valor3 - 1) * 2</span></td>
				</tr>
				<tr>
					<td><span class="equation">= -2 + 3 * valor1 + 3 * valor2 + (763 * valor2 + 766) * valor3</span></td>
				</tr>
			</table>
			
			<p class="principal">Logo, para o C&oacute;digo 10.5 tem-se que o total de ciclos &eacute; igual a:</p>
			
			<table align="center">
				<tr>
					<td rowspan="6" valign="top"><span class="equation">TOTAL CICLOS</span></td>
					<td><span class="equation">= -2 + 3 * valor1 + 3 * valor2 + (763 * valor2 + 766) * valor3</span></td>
				</tr>
				<tr>
					<td><span class="equation">= -2 + 3 * 10   + 3 * 200  + (763 * 200  + 766) * 133</span></td>
				</tr>
				<tr>
					<td><span class="equation">= 20398306 [ciclos]</span></td>
				</tr>
			</table>
			
			<p class="principal">Se neste exemplo a frequ&ecirc;ncia do clock do PIC16F628A for de 4 MHz, esse delay ser&aacute; de 20398306 &mu;s, que &eacute; aproximadamente, 20 segundos.</p>
			
			<p class="principal">No Exemplo 10.3, Exemplo 10.4 e Exemplo 10.5 vimos que pelo padr&atilde;o gerado, temos associado as seguintes equa&ccedil;&otilde;es na Tabela 10.5.</p>
			
			<table class="data">
				<thead>
					<tr>
						<th>
							<span class="dataTitle">Tabela 10.5 -</span> Quantidade de ciclos em fun&ccedil;&atilde;o da quantidade de n&iacute;veis
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<table class="dataValues">
								<thead>
									<tr>
										<th>QUANT. N&Iacute;VEIS</th>
										<th>QUANT. CICLOS</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>1</td>
										<td><span class="equation">3 * n1</span></td>
									</tr>
									<tr>
										<td>2</td>
										<td><span class="equation">3 * n1 + 766 * n2</span></td>
									</tr>
									<tr>
										<td>3</td>
										<td><span class="equation">-2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3</span></td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoData">
							<span>Fonte:</span> <span>Pr&oacute;prio autor (2020)</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Assim, para os n&iacute;veis 2 e 3 podem-se ter v&aacute;rias combina&ccedil;&otilde;es de n1, n2 e n3 que geram a mesma quantidade de ciclos totais. Sabendo que tanto n1, n2, n3 e a quantidade de ciclos s&atilde;o n&uacute;meros naturais (n&uacute;mero inteiro positivo ou nulo), precisamos resolver a equa&ccedil;&atilde;o dada a quantidade total de ciclos desejada.</p>
			
			<p class="principal"><span class="example">Exemplo 10.6 -</span> Neste exemplo desejamos a quantidade de 2783 ciclos, 700 ciclos e 196095 ciclos para loop em dois n&iacute;veis. Para isso, temos que encontrar quais s&atilde;o os valores inteiros n1 e n2 que produzem um resultado pr&oacute;ximo de 2873 ciclos, 700 ciclos e 196095 ciclos.</p>
			
			<p class="principal">Resolu&ccedil;&atilde;o: Para come&ccedil;ar a resolu&ccedil;&atilde;o temos que procurar saber quanto o maior parte (766) cabe dentro de cada um e o que sobrar veja quanto cabem a outra parte O importante &eacute; saber que n1 e n2 deve estar entre 0 (incluindo) e 255 (incluso tamb&eacute;m). Vejamos os c&aacute;lculos:</p>
			
			<ul class="list">
				<li>
					2783 ciclos
					<table align="center">
						<tr>
							<td align="right"><span class="equation">2783</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">3 * <b>766</b> + 485</span></td>
						</tr>
						<tr>
							<td colspan="3">&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">485</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">161 * <b>3</b> + 2</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">2783</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">(<b>3</b> * 161) + (<b>766</b> * 3) + 2</span></td>
						</tr>
					</table>
					
					<p class="principal">e com isso</p>
					
					<table align="center">
						<tr>
							<td><span class="equation">0</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td align="center"><span class="equation">n1=161</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">255</span></td>
						</tr>
						<tr>
							<td colspan="5">&nbsp;</td>
						</tr>
						<tr>
							<td><span class="equation">0</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td align="center"><span class="equation">n2=3</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">255</span></td>
						</tr>
					</table>
					
					<p class="principal">e os dois ciclos restantes podem ser conseguidos por duas instru&ccedil;&otilde;es <span class="instruction">NOP</span> ou uma instru&ccedil;&atilde;o <span class="instruction">GOTO</span> <span class="constant">$+1</span> ao final da estrutura de repeti&ccedil;&atilde;o.</p>
				</li>
				
				<li>
					700 ciclos
					<table align="center">
						<tr>
							<td align="right"><span class="equation">700</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">0 * <b>766</b> + 700</span></td>
						</tr>
						<tr>
							<td colspan="3">&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">700</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">233 * <b>3</b> + 1</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">700</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">(<b>3</b> * 233) + (<b>766</b> * 0) + 1</span></td>
						</tr>
					</table>
					
					<p class="principal">e com isso</p>
					
					<table align="center">
						<tr>
							<td><span class="equation">0</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td align="center"><span class="equation">n1=233</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">255</span></td>
						</tr>
						<tr>
							<td colspan="5">&nbsp;</td>
						</tr>
						<tr>
							<td><span class="equation">0</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td align="center"><span class="equation">n2=0</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">255</span></td>
						</tr>
					</table>
					
					<p class="principal">Esse um ciclo faltante pode ser conseguido por uma instru&ccedil;&atilde;o <span class="instruction">NOP</span>.</p>
				</li>
					
				<li>
					196095 ciclos
					<table align="center">
						<tr>
							<td align="right"><span class="equation">196095</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">255 * <b>766</b> + 765</span></td>
						</tr>
						<tr>
							<td colspan="3">&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">765</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">255 * <b>3</b> + 0</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">196095</span></td>
							<td><span class="equation">=</span></td>
							<td><span class="equation">(<b>3</b> * 255) + (<b>766</b> * 255) + 0</span></td>
						</tr>
					</table>
					
					<p class="principal">e com isso</p>
					
					<table align="center">
						<tr>
							<td><span class="equation">0</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td align="center"><span class="equation">n1=255</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">255</span></td>
						</tr>
						<tr>
							<td colspan="5">&nbsp;</td>
						</tr>
						<tr>
							<td><span class="equation">0</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td align="center"><span class="equation">n2=255</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">255</span></td>
						</tr>
					</table>
					
					<p class="principal">Neste exemplo pode-se ver que a maior quantidade de ciclos obtidos sem modifica&ccedil;&atilde;o do exemplo 4 &eacute; de 196095 ciclos, por&eacute;m esta quantidade pode ser aumentada adicionando instru&ccedil;&otilde;es dentro da estrutura de repeti&ccedil;&atilde;o do exemplo 10.4.</p>
				</li>
			</ul>
			
			<p class="principal">Agora vejamos o exemplo 10.7 no qual cria-se um pisca-pisca com tempo aproximado de 1 segundo ligado e 500 milisegundos desligado.</p>
			
			<p class="principal"><span class="example">Exemplo 10.7 -</span> Seja o circuito da Figura 10.5 no qual deseja-se que o LED fique aceso por aproximadamente 1 segundo e fique apagado 0.5 segundo. O PIC16F628A est&aacute; usando o oscilador interno de 4 MHz. O processo deve ser repetido continuamente, produzindo um pisca-pisca.</p>
			
			<table class="image">
				<thead>
					<tr>
						<th>
							<span class="figureTitle">Figura 10.5 -</span> Circuito para pisca-pisca
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<img src="./figures/example_blink_simulIDE.png" style="width: 321.11px; height: 274.20px;" title="example blink in simulIDE" alt="example blink in simulIDE"/>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoFigura">
							<span>Fonte:</span> <span>Pr&oacute;prio autor(2021)</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<p class="principal">Para a resolu&ccedil;&atilde;o deste exemplo precisamos calcular os valores de n1, n2 e n3 da express&atilde;o -2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3, pois como visto no exemplo 10.6, a express&atilde;o 3 * n1 + 766 * n2 gera no m&aacute;ximo a quantidade de 196095 ciclos de m&aacute;quina.</p>
			
			<p class="principal">Como a frequ&ecirc;ncia do clock &eacute; de 4 MHz, cada ciclo de instru&ccedil;&atilde;o &eacute; de 1 &mu;s, ent&atilde;o para:</p>
			
			<ul class="list">
				<li>
					1 segundo necessitamos de 1.000.000 &mu;s (1.000.000 ciclos em 4 MHz);</li>
				<li>
					0,5 segundos necessitamos de 500.000 &mu;s (500.000 ciclos em 4 MHz);</li>
			</ul>
			
			<p class="principal">Portanto para:</p>
			
			<ul class="list">
				<li>
					1 segundo
					
					<table align="center">
						<tr>
							<td align="right"><span class="equation">-2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3</span></td>
							<td align="center"><span class="equation">=</span></td>
							<td><span class="equation">1.000.000</span></td>
						</tr>
						<tr>
							<td colspan="5">&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">-2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">1.000.000</span></td>
						</tr>
						<tr>
							<td colspan="5">&nbsp;</td>
						</tr>
					</table>
					
					<p class="principal">onde <span class="equation">n1 = 17</span>, <span class="equation">n2 = 9</span> e <span class="equation">n3 = 131</span>, obtendo o valor de:</p>
					
					<table align="center">
						<tr>
							<td align="center"><span class="equation">-2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="center"><span class="equation">-2 + 3 * 17 + 3 * 9 + 763 * 9 * 131 + 766 * 131</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="center"><span class="equation">-2 + 51 + 27 + 899577 + 100346</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="center"><span class="equation">999999</span></td>
						</tr>
					</table>
					
					<p class="important"><span class="important">Importante:</span> Usei o SciLab para encontrar a solu&ccedil;&atilde;o usando o seguinte c&oacute;digo abaixo dispon&iacute;vel em <a href="https://www.scilab.org/sites/default/files/Scilab_Optimization_201109.pdf" target="_blank">https://www.scilab.org/sites/default/files/Scilab_Optimization_201109.pdf</a> e feitas algumas modifica&ccedil;&otilde;es. As documenta&ccedil;&otilde;es s&atilde;o encontradas em:
					
					<ul>
						<li><a href="https://help.scilab.org/doc/6.0.0/en_US/optim_ga.html" target="_blank">https://help.scilab.org/doc/6.0.0/en_US/optim_ga.html</a></li>
						<li>https://www.scilab.org/sites/default/files/optimization_in_scilab.pdf</li>
						<li>https://www.scilab.org/sites/default/files/Optimization Techniques with SCILAB - Gilberto E. Urroz - 2001.pdf</li>
						<li>https://machinelearningmastery.com/simple-genetic-algorithm-from-scratch-in-python/</li>
						<li>https://link.springer.com/content/pdf/10.1007/s11042-020-10139-6.pdf</li>
					</ul>	
					
					<p class="principal">Por usar algoritmo gen&eacute;tico, a popula&ccedil;&atilde;o inicial é criada aleat&oacute;riamente, por isso, tente v&aacute;rias vezes at&eacute; obter os valores que mant&eacute;m a desigualdade v&aacute;lida.</p>
<pre style="background-color:gray;color:white;padding:10px;">
// Objective function
// mininum values to variables n1, n2 and n3 to get
// number cycles less than 1000000
function y = objectiveFunctionVector( n1, n2, n3 )
    y = ( ( -2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3 ) - 1000000 ).^2;
endfunction

function y = objectiveFunction( n )
    y = objectiveFunctionVector( n(1), n(2), n(3) );
endfunction

function y = objectiveFunctionBinary( n )
    BinLen = 8;
    lb     = [0;0;0];   
    ub     = [255;255;255];
    tmp    = convert_to_float( n, BinLen, ub, lb );
    y      = objectiveFunction( tmp );
    disp( tmp );
endfunction

// 2. Compute the optimum.
PopSize     = 1000;
Proba_cross = 0.7;
Proba_mut   = 0.1;
NbGen       = 1000;
Log         = %T;
gaprms=init_param();
gaprms=add_param(gaprms,"minbound",[0;0;0]);
gaprms=add_param(gaprms,"maxbound",[255;255;255]);
gaprms=add_param(gaprms,"dimension",3);
gaprms=add_param(gaprms,"binary_length",8);
gaprms=add_param(gaprms,"crossover_func", crossover_ga_binary);
gaprms=add_param(gaprms,"mutation_func", mutation_ga_binary);
gaprms=add_param(gaprms,"codage_func", coding_ga_binary);
gaprms=add_param(gaprms,"multi_cross",%T);

[npopopt,fpopopt,xpop0,fpop0] = optim_ga(objectiveFunctionBinary,PopSize, NbGen,Proba_mut,Proba_cross,Log,gaprms);
</pre>
				</li>
				<li>
					0,5 segundos
					
					<table align="center">
						<tr>
							<td align="right"><span class="equation">-2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3</span></td>
							<td align="center"><span class="equation">=</span></td>
							<td><span class="equation">500.000</span></td>
						</tr>
						<tr>
							<td colspan="5">&nbsp;</td>
						</tr>
						<tr>
							<td align="right"><span class="equation">-2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3</span></td>
							<td align="center"><span class="equation">&le;</span></td>
							<td><span class="equation">500.000</span></td>
						</tr>
					</table>
					
					<p class="principal">onde <span class="equation">n1 = 113</span>, <span class="equation">n2 = 2</span> e <span class="equation">n3 = 218</span>, obtendo o valor de:</p>
					
					<table align="center">
						<tr>
							<td align="center"><span class="equation">-2 + 3 * n1 + 3 * n2 + 763 * n2 * n3 + 766 * n3</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="center"><span class="equation">-2 + 3 * 113 + 3 * 2 + 763 * 2 * 218 + 766 * 218</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="center"><span class="equation">-2 + 339 + 6 + 332668 + 166988</span></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="center"><span class="equation">499999</span></td>
						</tr>
					</table>
				</li>
			</ul>
			
			<p class="principal">Assim, o C&oacute;digo 10.5 exibe um exemplo de uso de delay com tr&ecirc;s n&iacute;veis.</p>
			
			<table class="code">
				<thead>
					<tr>
						<th>
							<span class="codeTitle">C&oacute;digo 10.6 -</span> Exemplo do uso da instru&ccedil;&atilde;o <span class="instruction">NOP</span>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
<pre class="code">
<code>  ; DESENVOLVIDO POR EVERTON P. CRUZ</code>
<code>  ; COM O PROPOSITO DE USO BASE PARA OS EPISODIOS</code>
<code>  ; DA SERIE CONHECENDO O MICROCONTROLADOR PIC16F628A</code>
<code>  #INCLUDE &lt;P16F628A.INC></code>
<code>  LIST P=16F628A</code>
<code>  __CONFIG _BOREN_ON & _CP_OFF & _PWRTE_ON & _WDT_OFF & _LVP_OFF & _MCLRE_OFF & _INTRC_OSC_NOCLKOUT</code>
<code> </code>
<code>  ; DEFINICAO DE VARIAVEIS</code>
<code>  #DEFINE N1  0x20   ; VARIAVEL DE TEMPO N1</code>
<code>  #DEFINE N2  0x21   ; VARIAVEL DE TEMPO N2</code>
<code>  #DEFINE N3  0x22   ; VARIAVEL DE TEMPO N3</code>
<code></code>
<code>  #DEFINE LED PORTA, RA0 ; PINO DO LED  </code>
<code></code>
<code>  ORG     0x00       ; TRATAMENTO DO RESET</code>
<code>  GOTO    SETUP_PROCESSO</code>
<code></code>
<code>  ORG     0x04       ; TRATAMENTO DAS INTERRUPCOES</code>
<code>  RETFIE</code>
<code>    </code>
<code>SETUP_PROCESSO:</code>
<code>  ; SELECIONA O BANCO 1 DE MEMORIA</code>
<code>  BCF     STATUS, RP1</code>
<code>  BSF     STATUS, RP0</code>
<code></code>
<code>  BSF     PCON, OSCF ; CONF. FREQÜÊNCIA DO OSCILADOR INTERNO EM 4 MHz</code>
<code></code>
<code>  ; CONFIGURACOES DO REGISTRADOR OPTION</code>
<code>  MOVLW   B'10000000'</code>
<code>  MOVWF   OPTION_REG</code>
<code>    </code>
<code>  ; MODIFICA O COMPORTAMENTO DO PORTA</code>
<code>  MOVLW   B'11111110'</code>
<code>  MOVWF   TRISA</code>
<code>    </code>
<code>  ; MODIFICA O COMPORTAMENTO DO PORTB</code>
<code>  MOVLW   B'11111111'</code>
<code>  MOVWF   TRISB</code>
<code>    </code>
<code>  ; SELECIONA O BANCO 0 DE MEMORIA</code>
<code>  BCF     STATUS, RP1</code>
<code>  BCF     STATUS, RP0</code>
<code>    </code>
<code>  ; DEFINE O MODO DE OPERACAO DO COMP. ANALOG. DESLIGADOS</code>
<code>  MOVLW   B'00000111'</code>
<code>  MOVWF   CMCON</code>
<code></code>
<code>  ; CONFIGURACOES DE INTERRUPCOES</code>
<code>  MOVLW   B'00000000'</code>
<code>  MOVWF   INTCON</code>
<code></code>
<code>PRINCIPAL:</code>
<code>  ; DELAY DE 1 SEGUNDO</code>
<code>  MOVLW   .17   ; VALOR PARA N1</code>
<code>  MOVWF   N1</code>
<code>  MOVLW   .9    ; VALOR PARA N2</code>
<code>  MOVWF   N2</code>
<code>  MOVLW   .131  ; VALOR PARA N3</code>
<code>  MOVWF   N3</code>
<code>loop1:</code>
<code>  DECFSZ  N1</code>
<code>  GOTO    loop1</code>
<code>  DECFSZ  N2</code>
<code>  GOTO    loop1</code>
<code>  DECFSZ  N3</code>
<code>  GOTO    loop1</code>
<code></code>
<code>  NOP           ; INCREMENTA 1 CICLO</code>
<code>  ; LIGA LED</code>
<code>  BSF     LED</code>
<code></code>
<code>  ; DELAY DE 0.5 SEGUNDO</code>
<code>  MOVLW   .113 ; VALOR PARA N1</code>
<code>  MOVWF   N1</code>
<code>  MOVLW   .2   ; VALOR PARA N2</code>
<code>  MOVWF   N2</code>
<code>  MOVLW   .218 ; VALOR PARA N3</code>
<code>  MOVWF   N3</code>
<code>loop2:</code>
<code>  DECFSZ  N1</code>
<code>  GOTO    loop2</code>
<code>  DECFSZ  N2</code>
<code>  GOTO    loop2</code>
<code>  DECFSZ  N3</code>
<code>  GOTO    loop2</code>
<code>  </code>
<code>  NOP          ; INCREMENTA 1 CICLO</code>
<code>  ; LIGA LED</code>
<code>  BCF     LED</code>
<code>  </code>
<code>  GOTO    PRINCIPAL</code>
<code>  </code>
<code>  END</code>
</pre>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td class="citacaoCode">
							<span>Fonte:</span> <span>Autor 2020</span>
						</td>
					</td>
				</tfoot>
			</table>
			
			<hr class="indice"/>
			<p class="backPage"><a href="#top">Voltar ao topo da p&aacute;gina</a></p>
			<p class="backPage"><a href="./Episode_9.html">Voltar ao Epis&oacute;dio 9</a></p>
			<p class="forwardPage"><a href="./Episode_11.html">Ir para Epis&oacute;dio 11</a></p>
			<p class="backPage"><a href="./Summary.html">Voltar ao &iacute;ndice</a></p>
		</div>
	</body>
</html>