<h1 class="c75 c35" id="h.3et4er6p39fp"><span class="c28 c87"></span></h1><h1 class="c95 c35" id="h.elclzztxr9nq"><span class="c28 c87">Epis&oacute;dio 10: Exemplo 2 - Criando delay no PIC16F628A</span></h1><p class="c11">Aqui neste epis&oacute;dio se abordar&aacute; o processo para &ldquo;pausa&rdquo; na execu&ccedil;&atilde;o de algumas tarefas desejadas</p><p class="c11">No microcontrolador existem duas formas de &ldquo;parar&rdquo; de fazer algo que afeta o computador, sendo que a primeira &eacute; via instru&ccedil;&atilde;o </span><span class="c3">NOP</span>ou pela instru&ccedil;&atilde;o </span><span class="c3">SLEEP</span>que ser&aacute; vista no epis&oacute;dio 26. Aqui, veremos uma pausa por certo tempo, assim precisamos entender de ciclo de instru&ccedil;&atilde;o</p><p class="c11">A Figura 10.1 exibe as instru&ccedil;&otilde;es e seus devidos ciclos.</p><p class="c12"><span class="c34">Figura 10.1</span>- Conjunto de instru&ccedil;&otilde;es do PIC16F628A</span></p><a id="t.3c9232b2d5d9ea2a259f8403ad80b64e9db35916"></a><a id="t.113"></a><table class="c56"><tbody><tr class="c21"><td class="c68"><p class="c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 590.00px; height: 517.33px;"><img alt="" src="images/image30.png" style="width: 590.00px; height: 517.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c19"><span class="citacaoFigura">Fonte: MICROCHIP 2020 (b) p&aacute;gina 117</span></p><p class="c11">O microcontrolador PIC16F628A executa cada instru&ccedil;&atilde;o em um (ou dois, dependendo da instru&ccedil;&atilde;o) ciclo e cada ciclo de instru&ccedil;&atilde;o consome &eacute; dada pela equa&ccedil;&atilde;o, em segundos, da Figura 10.2.</p><p class="c12"><span class="c34">Figura 10.2</span>- Tempo de execu&ccedil;&atilde;o de um ciclo no PIC16F628A</span></p><a id="t.3c9232b2d5d9ea2a259f8403ad80b64e9db35916"></a><a id="t.114"></a><table class="c7"><tbody><tr class="c21"><td class="c247"><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 383.00px; height: 57.00px;"><img alt="" src="images/image40.png" style="width: 383.00px; height: 57.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c24">    </span><span class="citacaoFigura">Fonte: Pr&oacute;prio autor</span></p><p class="c11">Conforme datasheet do PIC16F628A na se&ccedil;&atilde;o &ldquo;3.2 Instruction Flow/Pipelining&ldquo;, uma instru&ccedil;&atilde;o consiste de quatro ciclos Q (Q1, Q2, Q3 e Q4) onde a instru&ccedil;&atilde;o &eacute; buscada e executada em cada ciclo de instru&ccedil;&atilde;o, isto &eacute;, enquanto uma instru&ccedil;&atilde;o est&aacute; sendo buscada a seguinte que j&aacute; foi buscada est&aacute; sendo executada e isto &eacute; considerada na Figura 10.3 (Figura 2.10 sobre <i>Clock</span>e ciclo de instru&ccedil;&atilde;o) onde se tem quatro tempos Q1 a Q4.</p><p class="c12"><span class="c34">Figura 10.3</span>- Ciclo de clock e instru&ccedil;&atilde;o de execu&ccedil;&atilde;o do PIC16F628A</span></p><a id="t.3c9232b2d5d9ea2a259f8403ad80b64e9db35916"></a><a id="t.115"></a><table class="c56"><tbody><tr class="c238"><td class="c68"><p class="c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 590.00px; height: 208.00px;"><img alt="" src="images/image74.png" style="width: 590.00px; height: 208.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c19"><span class="citacaoFigura">Fonte: MICROCHIP 2020 (b) p&aacute;gina 15</span></p><p class="c11">Por exemplo, a instru&ccedil;&atilde;o </span><span class="c3">NOP</span>consome 1 ciclo de instru&ccedil;&atilde;o conforme Figura 10.1. Assim, para uma frequ&ecirc;ncia de clock de 4 MHz, o tempo de execu&ccedil;&atilde;o de uma instru&ccedil;&atilde;o </span><span class="c3">NOP</span>&eacute; de 1 &mu;s, conforme Figura 10.4 e se&ccedil;&atilde;o &ldquo;15.1 Read-Modify-Write Operations&rdquo; do datasheet do PIC16F628A.</p><p class="c12"><span class="c34">Figura 10.4</span>- Tempo de execu&ccedil;&atilde;o da instru&ccedil;&atilde;o </span><span class="c3 c60">NOP</span></p><a id="t.3c9232b2d5d9ea2a259f8403ad80b64e9db35916"></a><a id="t.116"></a><table class="c7"><tbody><tr class="c21"><td class="c68"><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 383.00px; height: 255.00px;"><img alt="" src="images/image25.png" style="width: 383.00px; height: 255.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c24"><span class="textoVermelho">Fonte: Pr&oacute;prio autor</span></p><p class="c11">Agora se a frequ&ecirc;ncia do clock for de 16 MHz ou 20 MHz a mesma instru&ccedil;&atilde;o ter&atilde;o o tempo de execu&ccedil;&atilde;o de 250 ns e 200 ns respectivamente</p><p class="c11">Com essas informa&ccedil;&otilde;es pode-se projetar delay, baseando na quantidade de ciclos executados e na frequ&ecirc;ncia de clock utilizada no microcontrolador</p><p class="c11">Vamos aos exemplos usando como base a frequ&ecirc;ncia de clock igual a 4 MHz, logo cada ciclo &eacute; executado em 1 &#x1d707;s</p><p class="c11"><span class="c34">EXEMPLO 10.1 - </span>Neste exemplo queremos criar um delay de 100 &#x1d707;s, no qual se usa a frequ&ecirc;ncia de clock de 4 MHz no microcontrolador. Pelo comentado anteriormente, se o clock do PIC16F628A &eacute; de 4 MHz, temos que cada ciclo de instru&ccedil;&atilde;o &eacute; executado em 1 &#x1d707;s, e como queremos 100 &#x1d707;s, decorre que precisamos de &ldquo;consumir&rdquo; 100 ciclos. O C&oacute;digo 10.1 exibe uma solu&ccedil;&atilde;o para esta proposta de delay de 100 &#x1d707;s.</p><p class="c12"><span class="c34">C&oacute;digo 10.1 -</span>Exemplo de delay de 100 &#x1d707;s</span></p><a id="t.9eb5940fa1ba8cfcc52b96175ef99792cda15385"></a><a id="t.117"></a><table class="c56"><tbody><tr class="c21"><td class="c68"><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c42 c8 c76">; inicia registrador de uso geral 0x20</span></p><p class="c11"><span class="c42 c8 c76">; com o valor 33 em decimal</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8">   </span><span class="c8 c54">.33</span><span class="c8">    </span><span class="c42 c8 c76">; 1 ciclo</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8">   </span><span class="c8 c54">0x20</span><span class="c8">   </span><span class="c42 c8 c76">; 1 ciclo</span></p><p class="c11"><span class="c8">loop</span><span class="c2">:</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8">   </span><span class="c8 c54">0x20</span><span class="c8">   </span><span class="c42 c8 c76">; 1 ciclo  &gt;---+--+  &lt;--+</span></p><p class="c11"><span class="c8">              </span><span class="c42 c8 c76">;        | |    |</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">    </span><span class="c8">loop</span><span class="c8">   </span><span class="c42 c8 c76">; 2 ciclos &lt;---+ |  &gt;--+</span></p><p class="c11"><span class="c8">              </span><span class="c42 c8 c76">;         |</span></p><p class="c11"><span class="c8">  </span><span class="c9">NOP</span><span class="c8">          </span><span class="c42 c8 c76">; 1 ciclo  &lt;------+</span></p><p class="c67 c14"><span class="c5"></span></p></td></tr></tbody></table><p class="c11">Pelo C&oacute;digo 10.1 pode ser feita a seguinte an&aacute;lise baseada na Tabela 10.1</span></p><p class="c12"><span class="c34">Tabela 10.1 -</span>An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.1</span></p><a id="t.f282bba70195d63e1bff883a84f356032210eaad"></a><a id="t.118"></a><table class="c56"><tbody><tr class="c21"><td class="c119"><p class="c1"><span class="c26">INSTRU&Ccedil;&Atilde;O</span></p></td><td class="c125"><p class="c1"><span class="c26">CICLO/INSTRU&Ccedil;&Atilde;O</span></p></td><td class="c64"><p class="c1"><span class="c26">QUANT. EXECUTADA</span></p></td><td class="c90"><p class="c1"><span class="c26">TOTAL</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">MOVLW</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">1 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">1 ciclo</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">MOVWF</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">1 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">1 ciclo</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">DECFSZ</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">33 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">33 ciclos</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">GOTO</span></p></td><td class="c125"><p class="c1"><span class="c5">2 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">32 &#8729; 2 ciclos</span></p></td><td class="c90"><p class="c1"><span class="c5">64 ciclos</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">NOP</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">1 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">1 ciclo</td>
</tr>
<tr class="c21"><td class="c119"><p class="c67 c14"><span class="c5"></span></p></td><td class="c125"><p class="c67 c14"><span class="c5"></span></p></td><td class="c64 c219"><p class="c175"><span class="c42 c34 c50 c191">TOTAL</span></p></td><td class="c90 c219"><p class="c67"><span class="c42 c34 c50 c191">100 ciclos = 100 &#x1d707;s</span></p></td></tr></tbody></table><p class="c11"><span class="citacaoFigura">Fonte: Proprio autor</span></p><p class="c11"><span class="c34">EXEMPLO 10.2 - </span>Neste exemplo queremos criar um delay de 1000 &#x1d707;s (1 ms), no qual usando a frequ&ecirc;ncia de clock de 4 MHz, teremos que 1000 &#x1d707;s &eacute; igual a 1000 ciclos. </span>Vejamos o C&oacute;digo 10.2 esse delay.</p><p class="c12"><span class="c34">C&oacute;digo 10.2 -</span>Exemplo de delay de 1000 &#x1d707;s (1 ms)</span></p><a id="t.63f01c3461a785b5002027589c1e298f0365502b"></a><a id="t.119"></a><table class="c56"><tbody><tr class="c21"><td class="c68"><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c42 c8 c76">; inicia registrador de uso geral 0x20</span></p><p class="c11"><span class="c42 c8 c76">; com o valor 250 em decimal</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8">   </span><span class="c8 c54">.250</span><span class="c8">   </span><span class="c42 c8 c76">; 1 ciclo</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8">   </span><span class="c8 c54">0x20</span><span class="c8">   </span><span class="c42 c8 c76">; 1 ciclo</span></p><p class="c11"><span class="c2">loop:</span></p><p class="c11"><span class="c8">  </span><span class="c9">NOP</span><span class="c8">          </span><span class="c42 c8 c76">; 1 ciclo  &lt;--------------+</span></p><p class="c11"><span class="c8">              </span><span class="c13 c8">;              |</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8">   </span><span class="c8 c54">0x20</span><span class="c8">   </span><span class="c42 c8 c76">; 1 ciclo;  &gt;---+--+    |</span></p><p class="c11"><span class="c8">              </span><span class="c8 c76">;        | |    |</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">    </span><span class="c8">loop</span><span class="c8">   </span><span class="c42 c8 c76">; 2 ciclos  &lt;---+ |  &gt;--+</span></p><p class="c11"><span class="c8">              </span><span class="c8 c115">;</span><span class="c42 c8 c76">         |</span></p><p class="c11"><span class="c8">  </span><span class="c9">NOP</span><span class="c8">          </span><span class="c8 c115">;</span><span class="c42 c8 c76">      &lt;------+ </span></p><p class="c19 c14"><span class="c5"></span></p></td></tr></tbody></table><p class="c11">Pelo C&oacute;digo 10.2 pode ser feita a seguinte an&aacute;lise baseada na Tabela 10.2.</p><p class="c12"><span class="c34">Tabela 10.2 -</span>An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.2</span></p><a id="t.548f69f03ecd7ab249a2ba9dc21f740bbb69ce6f"></a><a id="t.120"></a><table class="c56"><tbody><tr class="c21"><td class="c119"><p class="c1"><span class="c26">INSTRU&Ccedil;&Atilde;O</span></p></td><td class="c125"><p class="c1"><span class="c26">CICLO/INSTRU&Ccedil;&Atilde;O</span></p></td><td class="c64"><p class="c1"><span class="c26">QUANT. EXECUTADA</span></p></td><td class="c90"><p class="c1"><span class="c26">TOTAL</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">MOVLW</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">1 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">1 ciclo</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">MOVWF</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">1 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">1 ciclo</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">NOP</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">250 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">250 ciclos</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">DECFSZ</span></p></td><td class="c125"><p class="c1"><span class="c5">1 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">250 &#8729; 1 ciclo</span></p></td><td class="c90"><p class="c1"><span class="c5">250 ciclos</td>
</tr>
<tr class="c21"><td class="c119"><p class="c1"><span class="c3 c60">GOTO</span></p></td><td class="c125"><p class="c1"><span class="c5">2 ciclo</span></p></td><td class="c64"><p class="c1"><span class="c5">249 &#8729; 2 ciclos</span></p></td><td class="c90"><p class="c1"><span class="c5">498 ciclos</td>
</tr>
<tr class="c21"><td class="c119"><p class="c67 c14"><span class="c5"></span></p></td><td class="c125"><p class="c1 c14"><span class="c5"></span></p></td><td class="c64 c219"><p class="c175"><span class="c42 c34 c50 c191">TOTAL</span></p></td><td class="c90 c219"><p class="c67"><span class="c42 c34 c50 c191">1000 ciclos = 1 ms</span></p></td></tr></tbody></table><p class="c11"><span class="textoVermelho">Fonte: Pr&oacute;prio autor</span></p><p class="c11">Agora vejamos exemplos de loops em 1, 2 e 3 n&iacute;veis para que possamos calcular tempos. Vejamos o Exemplo 10.3, Exemplo 10.4 e Exemplo 10.5 que tratar&atilde;o de equacionar esses tempos</p><p class="c11"><span class="c34">Exemplo 10.3 - </span>Loop com 1 n&iacute;vel</span></p><p class="c12"><span class="c34">C&oacute;digo 10.3 -</span>Exemplo de delay com 1 n&iacute;vel</span></p><a id="t.2ad422c08ce5457b00b3f7cf7d70def387492e06"></a><a id="t.121"></a><table class="c56"><tbody><tr class="c21"><td class="c68"><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.250</span><span class="c8"> </span><span class="c42 c8 c76">; (1)         ; 1 ciclo</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c8 c54">0x20</span><span class="c8"> </span><span class="c42 c8 c76">; (2)         ; 1 ciclo</span></p><p class="c11"><span class="c8">loop:       </span><span class="c42 c8 c76">; (3) &lt;-------------+ ;</span></p><p class="c11"><span class="c8">  </span><span class="c42 c8 c76">; ...     ; (4)        | ; 250 por cada instrucao</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (5)        | ;</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c54">0x20</span><span class="c8"> </span><span class="c42 c8 c76">; (6) &gt;---+---+   | ; 250 * 1 ciclo = 250 ciclos</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (7)   |  |   | ;</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">  loop </span><span class="c42 c8 c76">; (8) &lt;---+  | &gt;---+ ; 249 * 2 ciclos = 498 ciclos</span></p><p class="c19"><span class="c8">         </span><span class="c42 c8 c76">; (9)     |    ;</span></p><p class="c19"><span class="c8">  </span><span class="c8"> </span><span class="c8">     </span><span class="c42 c8 c76">; (10) &lt;------+    ; TOTAL = 750 ciclos</span></p><p class="c19 c14"><span class="c2"></span></p></td></tr></tbody></table><p class="c11">Assim, o total de ciclos para o Exemplo 10.3 &eacute; dada por</span></p><p class="c11"><span class="c2">TOTAL CICLOS = 2 ciclos + valor * 1 ciclo + (valor - 1) * 2 ciclos</span></p><p class="c11"><span class="c2">      = 2 ciclos + valor * 1 ciclo + valor * 2 ciclos - 1 * 2 ciclos</span></p><p class="c11"><span class="c2">      = 3 * valor [ciclos]</span></p><p class="c11">Assim, pelo C&oacute;digo 10.3, tem-se que o valor armazenado no registrador de endere&ccedil;o <span class="definesASM1">0x20</span>&eacute; 250<span class="c6 c62">10</span>. Logo o total de ciclos &eacute; calculado como</span></p><p class="c11"><span class="c2">TOTAL CICLOS = 3 * valor [ciclos]</span></p><p class="c11"><span class="c2">      = 3 * 250 [ciclos]</span></p><p class="c11"><span class="c2">      = 750 [ciclos]</span></p><p class="c11">Na linha 4 do C&oacute;digo 10.3, foi colocado retic&ecirc;ncias para dizer que podem haver mais instru&ccedil;&otilde;es. Assim se houver <i>n</span>instru&ccedil;&otilde;es de 1 ciclo de instru&ccedil;&atilde;o entre as linhas 3 e 6 a express&atilde;o de <span class="definesASM1">TOTAL CICLOS</span>ficar&aacute;</span></p><p class="c11"><span class="c2">TOTAL CICLOS = 2 ciclos + n * valor * 1 ciclo + valor * 1 ciclo +</span></p><p class="c11"><span class="c2">                     + (valor -1) * 2 ciclos</span></p><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c2">      = 2 ciclos + valor * n * 1 ciclo + valor * 1 ciclo +</span></p><p class="c11"><span class="c2">                + valor * 2 ciclos - 1 * 2 ciclos</span></p><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c2">      = valor * n ciclos + 3 * valor ciclos</span></p><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c2">      = (3 + n) * valor [ciclos]</span></p><p class="c11">Assim, se utilizarmos duas instru&ccedil;&otilde;es </span><span class="c3">NOP</span>entre as linhas 3 e 6 do C&oacute;digo 10.3, teremos um total de </span></p><p class="c11"><span class="c2">TOTAL CICLOS = (3 + n) * valor [ciclos]</span></p><p class="c11"><span class="c2">      = (3 + 2) * 250 [ciclos]</span></p><p class="c11"><span class="c2">      = 1250 [ciclos]</span></p><p class="c11">Agora veremos o Exemplo 10.4 o qual tratar&aacute; de delay com 2 n&iacute;veis, isto &eacute;, duas estruturas de repeti&ccedil;&atilde;o no c&oacute;digo</p><p class="c11"><span class="c34">Exemplo 10.4 -</span>Neste exemplo veremos um delay com lo</span>op com 2 n&iacute;veis, como forma de aumentar o intervalo de tempo consumido. Veja o C&oacute;digo 10.4 o qual tem a implementa&ccedil;&atilde;o para esse delay fazendo uso de dois valores: 10<span class="c6 c62">10</span>e 200<span class="c6 c62">10.</p><p class="c12"><span class="c34">C&oacute;digo 10.4 -</span>Exemplo de delay com dois n&iacute;veis</span></p><a id="t.d4df99def04bf268666bdaad436808a0dc71006e"></a><a id="t.122"></a><table class="c56"><tbody><tr class="c21"><td class="c68"><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.10</span><span class="c8"> </span><span class="c42 c8 c76">; (1)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c8 c54">0x20</span><span class="c8"> </span><span class="c42 c8 c76">; (2)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.200</span><span class="c8"> </span><span class="c42 c8 c76">; (3)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c8 c54">0x21</span><span class="c8"> </span><span class="c42 c8 c76">; (4)</span></p><p class="c11"><span class="c8">loop:       </span><span class="c42 c8 c76">; (5) &lt;---+ &lt;------------------+</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (6)   |          |</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c54">0x20</span><span class="c8"> </span><span class="c42 c8 c76">; (7)   | &gt;---+       |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (8)   |   |       |</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">  loop </span><span class="c42 c8 c76">; (9) &gt;---+   |       |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (10)     |       |</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c54">0x21</span><span class="c8"> </span><span class="c42 c8 c76">; (11) &lt;--------+ &gt;--+----+  |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (12)        |  |  |</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">  loop </span><span class="c42 c8 c76">; (13) &lt;-------------+  | &gt;--+</span></p><p class="c19"><span class="c8">         </span><span class="c42 c8 c76">; (14)          |</span></p><p class="c19"><span class="c8">  </span><span class="c8"> </span><span class="c8">     </span><span class="c42 c8 c76">; (15) &lt;------------------+</span></p><p class="c19 c14"><span class="c2"></span></p></td></tr></tbody></table><p class="c11 c14"><span class="c5"></span></p><p class="c11"><span class="c5">Assim, pela Tabela 10.3, pode-se ver a an&aacute;lise da quantidade de ciclos utilizados nesta rotina de delay.</span></p><p class="c11 c14"><span class="c5"></span></p><p class="c12"><span class="c34">Tabela 10.2 -</span>An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.4</span></p><a id="t.4016f24767f6ebbbab1c424476c2c0814f4fdfa3"></a><a id="t.123"></a><table class="c56"><tbody><tr class="c21"><td class="c70"><p class="c1"><span class="c26">Linha</span></p></td><td class="c143"><p class="c1"><span class="c26">Instru&ccedil;&atilde;o</span></p></td><td class="c151"><p class="c1"><span class="c26">Quant. ciclos</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">1</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVLW</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">2</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVWF</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">3</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVLW</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">4</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVWF</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">7</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">DECFSZ</span></p></td><td class="c151"><p class="c1"><span class="c5">valor1 * 1 ciclo + 255 * 1 ciclo * valor2</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">9</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">GOTO</span></p></td><td class="c151"><p class="c1"><span class="c5">(valor1 - 1) * 2 ciclos + 254 * 2 ciclos * valor2</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">11</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">DECFSZ</span></p></td><td class="c151"><p class="c1"><span class="c5">valor2 * 1 ciclo</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">13</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">GOTO</span></p></td><td class="c151"><p class="c1"><span class="c5">(valor2 - 1) * 2 ciclos</span></p></td></tr></tbody></table><p class="c11"><span class="textoVermelho">Fonte: Pr&oacute;prio autor</span></p><p class="c11">Assim, o total de ciclos para o exemplo &eacute; dada por</span></p><p class="c24"><span class="c2">TOTAL CICLOS = 4 ciclos + valor1 * 1 ciclo + 255 * 1 ciclo * valor2 +</span></p><p class="c24"><span class="c2">       + (valor1 - 1) * 2 ciclos + 254 * 2 ciclos * valor2 +</span></p><p class="c24"><span class="c2">       + valor2 * 1 ciclo + (valor2 - 1) * 2 ciclos</span></p><p class="c24 c14"><span class="c2"></span></p><p class="c24"><span class="c2">      = 4 + valor1 + 255 * valor2 + 2 * valor1 - 2 + 508 * valor2 +</span></p><p class="c24"><span class="c2">       + valor2 + 2 * valor2 - 2</span></p><p class="c24 c14"><span class="c2"></span></p><p class="c24"><span class="c2">      = 3 * valor1 + 766 * valor2 [ciclos]</span></p><p class="c11">Para o C&oacute;digo 10.4, o total de ciclos ser&aacute; de </span></p><p class="c24"><span class="c2">TOTAL CICLOS = 3 * valor1 + 766 * valor2 [ciclos]</span></p><p class="c24"><span class="c2">      = 3 * 10 + 766 * 200 [ciclos]</span></p><p class="c24"><span class="c2">      = 153230 [ciclos]</span></p><p class="c11">E por &uacute;ltimo, veremos um exemplo de loop com 3 n&iacute;veis. Nesta s&eacute;rie, baseamos os c&aacute;lculos em apenas 3 n&iacute;veis, mas o leitor pode estender isso para mais n&iacute;veis, aumentando gradualmente o intervalo de delay</p><p class="c11"><span class="c34">Exemplo 10.5 -</span>Neste exemplo veremos um loo</span>p com 3 n&iacute;veis, que ser&aacute; o maior utilizado e comentado nos nossos exemplos desta s&eacute;rie. Os valores usados neste exemplo s&atilde;o: 10<span class="c6 c62">10</span>, 200<span class="c6 c62">10</span>e 133<span class="c6 c62">10.</p><p class="c12"><span class="c34">C&oacute;digo 10.5 -</span>Exemplo de delay com tr&ecirc;s n&iacute;veis</span></p><a id="t.89b83f9155939f0762daa7a1e9c18c1a923e58d6"></a><a id="t.124"></a><table class="c56"><tbody><tr class="c21"><td class="c68"><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.10</span><span class="c8"> </span><span class="c42 c8 c76">; (1)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c8 c54">0x20</span><span class="c8"> </span><span class="c42 c8 c76">; (2)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.200</span><span class="c8"> </span><span class="c42 c8 c76">; (3)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c8 c54">0x21</span><span class="c8"> </span><span class="c42 c8 c76">; (4)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.133</span><span class="c8"> </span><span class="c42 c8 c76">; (5)</span></p><p class="c11"><span class="c8">  </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c8 c54">0x22</span><span class="c8"> </span><span class="c8 c76">; (6)</span></p><p class="c11"><span class="c8">loop:       </span><span class="c42 c8 c76">; (7) &lt;------------+ &lt;--+ &lt;--+</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (8)        |  |  |</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c54">0x20</span><span class="c8"> </span><span class="c42 c8 c76">; (9) &gt;--+----+  |  |  |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (10)  |  |  |  |  |</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">  loop </span><span class="c42 c8 c76">; (11) &lt;--+  | &gt;--+  |  |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (12)     |     |  |</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c54">0x21</span><span class="c8"> </span><span class="c42 c8 c76">; (13) &gt;--+ &lt;--+ &gt;--+  |  |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (14)  |     |  |  |</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">  loop </span><span class="c42 c8 c76">; (15) &lt;--+     | &gt;--+  |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (16)       |     |</span></p><p class="c11"><span class="c8">  </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c54">0x22</span><span class="c8"> </span><span class="c42 c8 c76">; (17) &gt;--+ &lt;-------+ &gt;--+  |</span></p><p class="c11"><span class="c8">         </span><span class="c42 c8 c76">; (18)  |       |  |</span></p><p class="c11"><span class="c8">  </span><span class="c9">GOTO</span><span class="c8">  loop </span><span class="c42 c8 c76">; (19) &lt;--+       | &gt;--+</span></p><p class="c19"><span class="c8">         </span><span class="c42 c8 c76">; (20)          |</span></p><p class="c19"><span class="c8">  </span><span class="c8"></span><span class="c8">      </span><span class="c42 c8 c76">; (21) &lt;-----------------+</span></p><p class="c19 c14"><span class="c2"></span></p></td></tr></tbody></table><p class="c11">Assim, baseado no C&oacute;digo 10.5, constr&oacute;i-se a Tabela 10.3 a qual faz a an&aacute;lise do total de ciclos deste fragmento de c&oacute;digo.</p><p class="c12"><span class="c34">Tabela 10.3 -</span>An&aacute;lise dos ciclos de execu&ccedil;&atilde;o das instru&ccedil;&otilde;es do C&oacute;digo 10.5</span></p><a id="t.7e1625cf296453e5ad0fbe3620907553c732ba5c"></a><a id="t.125"></a><table class="c56"><tbody><tr class="c21"><td class="c70"><p class="c1"><span class="c26">Linha</span></p></td><td class="c143"><p class="c1"><span class="c26">Instru&ccedil;&atilde;o</span></p></td><td class="c151"><p class="c1"><span class="c26">Quant. ciclos</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">1</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVLW</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">2</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVWF</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">3</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVLW</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">4</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVWF</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">5</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVLW</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">6</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">MOVWF</span></p></td><td class="c151"><p class="c1"><span class="c5">1</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">9</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">DECFSZ</span></p></td><td class="c151"><p class="c1"><span class="c5">valor1 * 1 ciclo + 255 * valor2 * valor3 * 1 ciclo</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">11</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">GOTO</span></p></td><td class="c151"><p class="c1"><span class="c5">(valor1 - 1) * 2 ciclos + 254 * valor2 * valor3 * 2 ciclos</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">13</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">DECFSZ</span></p></td><td class="c151"><p class="c1"><span class="c5">valor2 * 1 ciclo + 255 * valor3 * 1 ciclo</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">15</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">GOTO</span></p></td><td class="c151"><p class="c1"><span class="c5">(valor1 - 1) * 2 ciclos + 254 * valor3 * 2 ciclos</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">17</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">DECFSZ</span></p></td><td class="c151"><p class="c1"><span class="c5">valor3 * 1 ciclo</td>
</tr>
<tr class="c21"><td class="c70"><p class="c1"><span class="c5">19</span></p></td><td class="c143"><p class="c1"><span class="c3 c60">GOTO</span></p></td><td class="c151"><p class="c1"><span class="c5">(valor3 - 1) * 2 ciclos</span></p></td></tr></tbody></table><p class="c11">Com isso, o total de ciclos &eacute; dada por</span></p><p class="c24"><span class="c2">TOTAL CICLOS = 4 + valor1 + 255 * valor2 * valor3 + (valor1 - 1) * 2 +</span></p><p class="c24"><span class="c2">       + 254 * valor2 * valor3 * 2 + valor2 + 255 * valor3 +</span></p><p class="c24"><span class="c2">       + (valor1 - 1) * 2 + 254 * valor3 * 2 + valor3 +</span></p><p class="c24"><span class="c2">       + (valor3 - 1) * 2</span></p><p class="c24 c14"><span class="c2"></span></p><p class="c24"><span class="c2">      = -2 + 3 * valor1 + 3 * valor2 + (763 * valor2 + 766) * valor3</span></p><p class="c11">Logo, para o C&oacute;digo 10.5 tem-se que o total de ciclos &eacute; igual a</span></p><p class="c24"><span class="c2">TOTAL CICLOS = -2 + 3 * valor1 + 3 * valor2 + (763 * valor2 + 766) * valor3</span></p><p class="c24"><span class="c2">      = -2 + 3 * 10   + 3 * 200  + (763 * 200  + 766) * 133</span></p><p class="c24"><span class="c2">      = 20398306 [ciclos]</span></p><p class="c11">Se neste exemplo a frequ&ecirc;ncia do clock do PIC16F628A for de 4 MHz, esse delay ser&aacute; de 20398306 &mu;s, que &eacute; aproximadamente, 20 segundos</p><p class="c11">No Exemplo 10.3, Exemplo 10.4 e Exemplo 10.5 vimos que pelo padr&atilde;o gerado, temos associado as seguintes equa&ccedil;&otilde;es na Tabela 10.4.</p><p class="c12"><span class="c34">Tabela 10.4 -</span>Quantidade de ciclos em fun&ccedil;&atilde;o da quantidade de n&iacute;veis</span></p><a id="t.5499abf9c64e907c4c84cae689b256c15ec1648e"></a><a id="t.126"></a><table class="c7"><tbody><tr class="c21"><td class="c48"><p class="c1">Quant. n&iacute;veis</span></p></td><td class="c102"><p class="c1">Quant. ciclos</td>
</tr>
<tr class="c21"><td class="c48"><p class="c1">1</span></p></td><td class="c102"><p class="c11">3 * n</span><span class="c131 c6 c62 c50 c53 c44">1</td>
</tr>
<tr class="c21"><td class="c48"><p class="c1">2</span></p></td><td class="c102"><p class="c24">3 * n<span class="c6 c62">1</span>+ 766 * n</span><span class="c131 c6 c62 c50 c53 c44">2</td>
</tr>
<tr class="c21"><td class="c48"><p class="c1">3</span></p></td><td class="c102"><p class="c24">-2 + 3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n</span><span class="c131 c6 c62 c50 c53 c44">3</span></p></td></tr></tbody></table><p class="c11">Assim, para os n&iacute;veis 2 e 3 podem-se ter v&aacute;rias combina&ccedil;&otilde;es de n<span class="c6 c62">1</span>,n<span class="c6 c62">2</span>e n<span class="c6 c62">3</span>que geram a mesma quantidade de ciclos totais. Sabendo que tanto n<span class="c6 c62">1</span>, n<span class="c6 c62">2</span>, n<span class="c6 c62">3</span>e a quantidade de ciclos s&atilde;o n&uacute;meros naturais (n&uacute;mero inteiro positivo ou nulo), precisamos resolver a equa&ccedil;&atilde;o dada a quantidade total de ciclos desejada</p><p class="c11"><span class="c34">Exemplo 10.6 -</span>Neste exemplo desejamos a quantidade de 2783 ciclos, 700 ciclos e 196095 ciclos para loop em dois n&iacute;veis. Para isso, temos que encontrar quais s&atilde;o os valores inteiros n<span class="c6 c62">1</span></span>e n<span class="c6 c62">2</span>que produzem um resultado pr&oacute;ximo de 2873 ciclos, 700 ciclos e 196095 ciclos</p><p class="c11">Resolu&ccedil;&atilde;o: Para come&ccedil;ar a resolu&ccedil;&atilde;o temos que procurar saber quanto o maior parte (766) cabe dentro de cada um e o que sobrar veja quanto cabem a outra parte O importante &eacute; saber que n<span class="c6 c62">1</span>e n<span class="c6 c62">2</span>deve estar entre 0 (incluindo) e 255 (incluso tamb&eacute;m). Vejamos os c&aacute;lculos:</span></p><ul class="c80 lst-kix_ms4xrytks1z8-0 start"><li class="c31">2783 ciclos</span></li></ul><p class="c11 c23">2783 = 3 * 766 + 485</span></p><p class="c11 c23"> 485 = 161 * 3 + 2</span></p><p class="c11 c23 c14"></p><p class="c11 c23">2783 = (3 * 161) + (766 * 3) + 2</span></p><p class="c11 c23">2783 = 2781 + 2</span></p><p class="c11 c23 c14"></p><p class="c11 c23">Com isso</span></p><p class="c12 c23">0 &lt;= </span><span class="c34">n</span><span class="c6 c34 c62">1</span><span class="c34">=161</span>&lt;= 255</span></p><p class="c12 c23">0 &lt;= </span><span class="c34">n</span><span class="c6 c34 c62">2</span><span class="c34">=3</span>&lt;= 255</span></p><p class="c12 c14 c23"></p><p class="c11 c23">Esses dois ciclos podem ser conseguidos por duas instru&ccedil;&otilde;es </span><span class="c3">NOP</span>ou uma instru&ccedil;&atilde;o </span><span class="c3">GOTO $+1</span>ao final da estrutura de repeti&ccedil;&atilde;o.</span></p><p class="c11 c23 c14"></p><ul class="c80 lst-kix_ms4xrytks1z8-0"><li class="c31">700 ciclos</span></li></ul><p class="c11 c23">700 = 0 * 766 + 700</span></p><p class="c11 c23"> 700 = 233 * 3 + 1</span></p><p class="c11 c23 c14"></p><p class="c11 c23">700 = (3 * 233) + (766 * 0) + 1</span></p><p class="c11 c23">2783 = 2781 + 2</span></p><p class="c11 c23 c14"></p><p class="c11 c23">Com isso</span></p><p class="c12 c23">0 &lt;= </span><span class="c34">n</span><span class="c6 c34 c62">1</span><span class="c34">=233</span>&lt;= 255</span></p><p class="c12 c23">0 &lt;= </span><span class="c34">n</span><span class="c6 c34 c62">2</span><span class="c34">=0</span>&lt;= 255</span></p><p class="c11 c23 c14"></p><p class="c11 c23">Esse um ciclo faltante pode ser conseguido por uma instru&ccedil;&atilde;o </span><span class="c3">NOP.</span></p><p class="c11 c23 c14"></p><ul class="c80 lst-kix_ms4xrytks1z8-0"><li class="c31"><span class="c34">196095</span>ciclos</span></li></ul><p class="c11 c23">196095 = 255 * 766 + 765</span></p><p class="c11 c23"> 765 = 255 * 3 + 0</span></p><p class="c11 c23 c14"></p><p class="c11 c23">196095 = (3 * 255) + (766 * 255)</span></p><p class="c11 c23 c14"></p><p class="c11 c23">Com isso</span></p><p class="c12 c23">0 &lt;= </span><span class="c34">n</span><span class="c6 c34 c62">1</span><span class="c34">=255</span>&lt;= 255</span></p><p class="c12 c23">0 &lt;= </span><span class="c34">n</span><span class="c6 c34 c62">2</span><span class="c34">=255</span>&lt;= 255</span></p><p class="c11 c23 c14"></p><p class="c11 c23">Neste exemplo pode-se ver que a maior quantidade de ciclos obtidos sem modifica&ccedil;&atilde;o do exemplo 4 &eacute; de 196095 ciclos, por&eacute;m esta quantidade pode ser aumentada adicionando instru&ccedil;&otilde;es dentro da estrutura de repeti&ccedil;&atilde;o do exemplo 10.4</p><p class="c11"><span class="citacaoFigura">RETIRAR</span></p><p class="c11"><span class="textoVermelho">Para a resolu&ccedil;&atilde;o desse problema, faremos uso de equia&ccedil;&otilde;es diofantinas (para saber um pouquinho mais sobre o assunto, acesse os links </span><span class="c59 c6 c39"><a href="https://www.google.com/url?q=https://pt.wikipedia.org/wiki/Equa%25C3%25A7%25C3%25A3o_diofantina&amp;sa=D&amp;source=editors&amp;ust=1619797899721000&amp;usg=AOvVaw3j400WHLS7FPijjwQvAqwP">https://pt.wikipedia.org/wiki/Equa&ccedil;&atilde;o_diofantina</a></span><span class="textoVermelho">, </span><span class="c59 c6 c39"><a href="https://www.google.com/url?q=https://rpm.org.br/cdrpm/19/9.htm&amp;sa=D&amp;source=editors&amp;ust=1619797899721000&amp;usg=AOvVaw323Zxf0fILJujnlpq4Xu7M">https://rpm.org.br/cdrpm/19/9.htm</a></span><span class="textoVermelho">e </span><span class="c59 c6 c39"><a href="https://www.google.com/url?q=https://www.ufsj.edu.br/portal2-repositorio/File/comat/tcc_Ricardo.pdf&amp;sa=D&amp;source=editors&amp;ust=1619797899721000&amp;usg=AOvVaw1eiXwbN-tQU6C5Fj-SYb01">https://www.ufsj.edu.br/portal2-repositorio/File/comat/tcc_Ricardo.pdf</a></span><span class="citacaoFigura">) no qual necessitamos encontrar os n&uacute;meros inteiros positivos que satisfa&ccedil;am a equa&ccedil;&atilde;o de 2 n&iacute;veis de loop para uma quantidade dada de total de ciclos.</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="textoVermelho">Assim, a equa&ccedil;&atilde;o </span><span class="c6 c39 c34 c37">3 * a + 766 * b = 2783</span><span class="citacaoFigura">precisa ser resolvida para podermos encontrar a e b.</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="citacaoFigura">Primeiramente precisamos saber se a equa&ccedil;&atilde;o tem solu&ccedil;&atilde;o para esse valor de 2783 ciclos e para isso aplicamos o processo de exist&ecirc;ncia de solu&ccedil;&atilde;o de uma equa&ccedil;&atilde;o diofantina.</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="textoVermelho">Para que uma equa&ccedil;&atilde;o diofantina tenha solu&ccedil;&atilde;o, o MDC (M&aacute;ximo Divisor Comum) dos valores 3 e 766 tem que dividir o valor 2783. Neste caso calculamos o MDC de 3 e 766 (que &eacute; o mesmo c&aacute;lculo do MDC de 766 e 3) utilizando o Algoritmo de Euclides (</span><span class="c59 c6 c39"><a href="https://www.google.com/url?q=https://pt.wikipedia.org/wiki/Algoritmo_de_Euclides&amp;sa=D&amp;source=editors&amp;ust=1619797899722000&amp;usg=AOvVaw1DmfW6L3xYRUZ5hmRpcJJ9">https://pt.wikipedia.org/wiki/Algoritmo_de_Euclides</a></span><span class="citacaoFigura">) tem-se:</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c12"><span class="c6 c39 c34">Tabela 10.5 -</span><span class="citacaoFigura">C&aacute;lculo do MDC de 766 e 3 </span></p><a id="t.70a4884e8b8332bf319b102196648b9330e7506f"></a><a id="t.127"></a><table class="c7"><tbody><tr class="c21"><td class="c217"><p class="c1"><span class="c60 c6 c39 c34 c50">quociente</span></p></td><td class="c158"><p class="c1"><span class="citacaoFigura">255</span></p></td><td class="c140"><p class="c1"><span class="citacaoFigura">3</td>
</tr>
<tr class="c21"><td class="c168 c217"><p class="c1"><span class="citacaoFigura">766</span></p></td><td class="c158 c168"><p class="c1"><span class="citacaoFigura">3</span></p></td><td class="c140 c168"><p class="c1"><span class="citacaoFigura">1</td>
</tr>
<tr class="c21"><td class="c153"><p class="c1"><span class="c60 c6 c39 c34 c50">resto</span></p></td><td class="c158 c234"><p class="c1"><span class="citacaoFigura">1</span></p></td><td class="c140 c234"><p class="c1"><span class="citacaoFigura">0</span></p></td></tr></tbody></table><p class="c11"><span class="citacaoFigura">                   Fonte: Pr&oacute;prio autor</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="citacaoFigura">O processo visto na Tabela 10.5 pode ser escrito como</span></p><p class="c12 c14"><span class="citacaoFigura"></span></p><a id="t.62ef4258fd5c1c5db2887085a6129bb955f69ace"></a><a id="t.128"></a><table class="c7"><tbody><tr class="c21"><td class="c136"><p class="c175"><span class="citacaoFigura">766</span></p></td><td class="c204"><p class="c1"><span class="citacaoFigura">=</span></p></td><td class="c192"><p class="c19"><span class="citacaoFigura">3 * 255 + 1</td>
</tr>
<tr class="c21"><td class="c136"><p class="c175"><span class="citacaoFigura">3</span></p></td><td class="c204"><p class="c1"><span class="citacaoFigura">=</span></p></td><td class="c192"><p class="c19"><span class="citacaoFigura">1 + 0</span></p></td></tr></tbody></table><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="textoVermelho">Assim o MDC de 766 e 3 &eacute; 1 conforme a Tabela 10.5 e a verifica&ccedil;&atilde;o e c&aacute;lculo de outros MDC pode ser feita no link </span><span class="c59 c6 c39"><a href="https://www.google.com/url?q=http://www.matematicadidatica.com.br/CalculadoraMMCMDC.aspx&amp;sa=D&amp;source=editors&amp;ust=1619797899727000&amp;usg=AOvVaw2yE6_PksyTo-zkxGSVyMJ2">http://www.matematicadidatica.com.br/CalculadoraMMCMDC.aspx</a></span><span class="citacaoFigura">.</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="c6 c39 c50 c44 c60">Agora o c&aacute;lculo dos valores de a&rsquo; e b&rsquo; &eacute; dado pelo processo inverso do Algoritmo de Euclides:</span></p><p class="c19 c14"><span class="citacaoFigura"></span></p><p class="c1"><span class="citacaoFigura">1 = 1 * 766 - 255 * 3</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="citacaoFigura">Ap&oacute;s obter o MDC de 766 e 3 que &eacute; 1, pode-se observar que 1 divide 2783. Portanto a equa&ccedil;&atilde;o acima sempre ter&aacute; solu&ccedil;&atilde;o pois o MDC de 3 e 766 &eacute; 1, limitando ao intervalo m&aacute;ximo obtido com delay de dois n&iacute;veis.</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="citacaoFigura">Assim, a solu&ccedil;&atilde;o da equa&ccedil;&atilde;o inicial do exemplo &eacute;</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c12 c14"><span class="citacaoFigura"></span></p><a id="t.314c2ca64bc79d8e966167b7adf64007cd06d5b7"></a><a id="t.129"></a><table class="c7"><tbody><tr class="c21"><td class="c118"><p class="c175"><span class="citacaoFigura">1</span></p></td><td class="c183"><p class="c1"><span class="citacaoFigura">=</span></p></td><td class="c203"><p class="c19"><span class="citacaoFigura">1 * 766 - 255 * 3</td>
</tr>
<tr class="c21"><td class="c118"><p class="c175"><span class="citacaoFigura">2783 * 1</span></p></td><td class="c183"><p class="c1"><span class="citacaoFigura">=</span></p></td><td class="c203"><p class="c19"><span class="citacaoFigura">2783 * 1 * 766 - 2783 * 255 * 3</td>
</tr>
<tr class="c21"><td class="c118"><p class="c175"><span class="citacaoFigura">2783</span></p></td><td class="c183"><p class="c1"><span class="citacaoFigura">=</span></p></td><td class="c203"><p class="c19"><span class="citacaoFigura">2783 * 766 - 709665 * 3</td>
</tr>
<tr class="c21"><td class="c118"><p class="c175"><span class="citacaoFigura">2783</span></p></td><td class="c183"><p class="c1"><span class="citacaoFigura">=</span></p></td><td class="c203"><p class="c19"><span class="citacaoFigura">- 709665 * 3 + 2783 * 766</td>
</tr>
<tr class="c21"><td class="c118"><p class="c175"><span class="citacaoFigura">2783</span></p></td><td class="c183"><p class="c1"><span class="citacaoFigura">=</span></p></td><td class="c203"><p class="c19"><span class="citacaoFigura">a0 * 3 + b0 * 766</span></p></td></tr></tbody></table><p class="c12 c14"><span class="citacaoFigura"></span></p><p class="c67"><span class="citacaoFigura">Assim os valores de a0 = -709665 e b0 = 2783. Por&eacute;m estes valores est&atilde;o fora do limite que s&atilde;o maior ou igual a zero e menor ou igual a 255.</span></p><p class="c67 c14"><span class="citacaoFigura"></span></p><p class="c67"><span class="citacaoFigura">As solu&ccedil;&otilde;es s&atilde;o da forma</span></p><p class="c1"><span class="citacaoFigura">a = -709665 + 766 * k</span></p><p class="c1"><span class="citacaoFigura">b = 2783 - 3 * k</span></p><p class="c67 c14"><span class="citacaoFigura"></span></p><p class="c67"><span class="citacaoFigura">A Tabela 10.6 exibe os valores e escolhemos a solu&ccedil;&atilde;o que satisfa&ccedil;a o limite permitido dos registradores do PIC16F628A.</span></p><p class="c67 c14"><span class="citacaoFigura"></span></p><p class="c12"><span class="c6 c39 c34">Tabela 10.6 -</span><span class="citacaoFigura">C&aacute;lculo dos valores da solu&ccedil;&atilde;o</span></p><a id="t.f695886761a10faf2bcaef797d46d922713ee2ae"></a><a id="t.130"></a><table class="c7"><tbody><tr class="c21"><td class="c158"><p class="c1"><span class="c60 c6 c39 c34 c50">k</span></p></td><td class="c10"><p class="c1"><span class="c60 c6 c39 c34 c50">a</span></p></td><td class="c10"><p class="c1"><span class="c60 c6 c39 c34 c50">b</td>
</tr>
<tr class="c21"><td class="c158"><p class="c1"><span class="citacaoFigura">1</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">-708899</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">2780</td>
</tr>
<tr class="c21"><td class="c158"><p class="c1"><span class="citacaoFigura">2</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">-708133</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">2777</td>
</tr>
<tr class="c21"><td class="c158"><p class="c1"><span class="citacaoFigura">3</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">-707367</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">2774</td>
</tr>
<tr class="c21"><td class="c158"><p class="c1"><span class="citacaoFigura">...</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">...</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">...</td>
</tr>
<tr class="c21"><td class="c158"><p class="c1"><span class="citacaoFigura">255</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">-514335</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">2018</td>
</tr>
<tr class="c21"><td class="c158"><p class="c1"><span class="citacaoFigura">...</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">...</span></p></td><td class="c10"><p class="c1"><span class="citacaoFigura">...</span></p></td></tr></tbody></table><p class="c12 c14"><span class="citacaoFigura"></span></p><p class="c67 c14"><span class="citacaoFigura"></span></p><p class="c67"><span class="citacaoFigura">Para encontrar uma solu&ccedil;&atilde;o vi&aacute;vel,</span></p><p class="c67 c14"><span class="citacaoFigura"></span></p><p class="c1"><span class="citacaoFigura">0 &lt;= -709665 + 766 * k &lt;= 255</span></p><p class="c1 c14"><span class="citacaoFigura"></span></p><p class="c1"><span class="citacaoFigura">709665 &lt;= 766 * k &lt;= 709920</span></p><p class="c1 c14"><span class="citacaoFigura"></span></p><p class="c1"><span class="citacaoFigura">709665/766 &lt;= k &lt;= 709920/766</span></p><p class="c1 c14"><span class="citacaoFigura"></span></p><p class="c1"><span class="citacaoFigura">926.45 &lt;= k &lt;= 926.79</span></p><p class="c1 c14"><span class="citacaoFigura"></span></p><p class="c67"><span class="citacaoFigura">que neste caso n&atilde;o teremos pois n&atilde;o existe um valor de k natural que satisfa&ccedil;a 926.45 &lt;= k &lt;= 926.79. Assim devemos subtrair em 1 unidade o valor anterior de 2783 ciclos, para come&ccedil;ar novamente o c&aacute;lculo com 2782 ciclos.</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="c60 c6 c39 c34 c50">[COLOCAR AQUI EQUA&Ccedil;&Otilde;ES DIOFANTINAS] https://arxiv.org/ftp/arxiv/papers/0910/0910.2246.pdf</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="citacaoFigura">Com essas express&otilde;es pode-se obter tempos pr&oacute;ximos e adaptando-se isso, consegue-se valor exatos de tempo.</span></p><p class="c11 c14"><span class="citacaoFigura"></span></p><p class="c11"><span class="textoVermelho">O exemplo cria um projeto conhecido como &ldquo;blink&rdquo; semelhante ao &ldquo;blink&rdquo; do Arduino. (</span><span class="c6 c39 c34">coloca-se o link do projeto Arduino</span><span class="citacaoFigura">)</p><p class="c11">Agora vejamos o exemplo 10.7 no qual cria-se um pisca-pisca com tempo aproximado de 1 segundo ligado e 500 milisegundos desligado</p><p class="c11"><span class="c34">Exemplo 10.7 -</span>Seja o circuito da Figura 10.5 no qual deseja-se que o LED fique aceso por aproximadamente 1 segundo e fique apagado 0.5 segundo. O PIC16F628A est&aacute; usando o oscilador interno de 4 MHz. O processo deve ser repetido continuamente, produzindo um pisca-pisca.</p><p class="c12"><span class="c34">Figura 10.5 -</span>Circuito para pisca-pisca</span></p><a id="t.3c9232b2d5d9ea2a259f8403ad80b64e9db35916"></a><a id="t.131"></a><table class="c7"><tbody><tr class="c21"><td class="c221"><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.11px; height: 274.20px;"><img alt="" src="images/image62.png" style="width: 321.11px; height: 274.20px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c24">               </span><span class="citacaoFigura">Fonte: Pr&oacute;prio autor(2021)</span></p><p class="c11">Para a resolu&ccedil;&atilde;o deste exemplo precisamos calcular os valores de n<span class="c6 c62">1</span>, n<span class="c6 c62">2</span>e n<span class="c6 c62">3</span>da express&atilde;o -2 + 3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n<span class="c6 c62">3</span>, pois como visto no exemplo 10.6, a express&atilde;o 3 * n<span class="c6 c62">1</span>+ 766 * n<span class="c6 c62">2</span>gera no m&aacute;ximo a quantidade de 196095 ciclos de m&aacute;quina. </span></p><p class="c11">Como a frequ&ecirc;ncia do clock &eacute; de 4 MHz, cada ciclo de instru&ccedil;&atilde;o &eacute; de 1 &mu;s, ent&atilde;o para:</span></p><ul class="c80 lst-kix_b2e26t3nqqtd-0 start"><li class="c31">1 segundo necessitamos de 1.000.000 &mu;s (1.000.000 ciclos em 4 MHz);</span></li><li class="c31">0,5 segundos necessitamos de 500.000 &mu;s (500.000 ciclos em 4 MHz);</span></li></ul><p class="c11">Portanto para:</span></p><ul class="c80 lst-kix_qhp3eq6k0gc0-0 start"><li class="c31">1 segundo</span></li></ul><p class="c12 c49">-2 + 3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n<span class="c6 c62">3</span>= 1.000.000</span></p><p class="c12 c49">-2 + 3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n<span class="c6 c62">3</span>&lt;</span>= 1.000.000</span></p><p class="c12 c49">3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n<span class="c6 c62">3</span>&lt;= 999.998</span></p><p class="c12 c49 c14"></p><p class="c12 c49"><span class="c60 c39 c50 c44 c149">ENCONTRAR UM JEITO DE RESOLVER ESTE PROBLEMA APLICANDO PROBLEMA DA MOCHILA INTEIRA.</span></p><ul class="c80 lst-kix_qhp3eq6k0gc0-0"><li class="c31">0,5 segundos</span></li></ul><p class="c12 c49">-2 + 3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n<span class="c6 c62">3</span>= 500.000</span></p><p class="c12 c49">-2 + 3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n<span class="c6 c62">3</span>&lt;= 500.000</span></p><p class="c12 c49">3 * n<span class="c6 c62">1</span>+ 3 * n<span class="c6 c62">2</span>+ 763 * n<span class="c6 c62">2</span>* n<span class="c6 c62">3</span>+ 766 * n<span class="c6 c62">3</span>&lt;= 499.998</span></p><p class="c12 c49 c14"></p><p class="c12 c49"><span class="c60 c39 c149 c50 c44">ENCONTRAR UM JEITO DE RESOLVER ESTE PROBLEMA APLICANDO PROBLEMA DA MOCHILA INTEIRA</p><p class="c11">Assim, o C&oacute;digo 10.5 exibe um exemplo de uso de delay com tr&ecirc;s n&iacute;veis.</p><p class="c12"><span class="c34">C&oacute;digo 10.5 -</span>Exemplo de delay com tr&ecirc;s n&iacute;veis</span></p><a id="t.6a01ceffbbe6b4e8db0195d7c12400320e994a11"></a><a id="t.132"></a><table class="c56"><tbody><tr class="c21"><td class="c68"><p class="c11 c14"><span class="c2"></span></p><p class="c19"><span class="c13 c8"> ; DESENVOLVIDO POR EVERTON P. CRUZ</span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; COM O PROPOSITO DE USO BASE PARA OS EPISODIOS</span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; DA SERIE CONHECENDO O MICROCONTROLADOR PIC16F628A</span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">#INCLUDE</span><span class="c8"></span><span class="c42 c8 c181">&lt;P16F628A.INC&gt;</span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">LIST</span><span class="c8"></span><span class="c8 c18">P</span><span class="c8">=</span><span class="c42 c8 c18">16F628A</span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">__CONFIG</span><span class="c8"></span><span class="c8 c18">_BOREN_ON</span><span class="c8">&amp; </span><span class="c8 c18">_CP_OFF</span><span class="c8">&amp; </span><span class="c8 c18">_PWRTE_ON</span><span class="c8">&amp; </span><span class="c8 c18">_WDT_OFF</span><span class="c8">&amp; </span><span class="c8 c18">_LVP_OFF</span><span class="c8">&amp; </span><span class="c8 c18">_MCLRE_OFF</span><span class="c8">&amp; </span><span class="c42 c8 c18">_INTRC_OSC_NOCLKOUT</span></p><p class="c19"><span class="c2"></span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; DEFINICAO DE VARIAVEIS</span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">#DEFINE</span><span class="c8"></span><span class="c8 c18">N1</span><span class="c8"> 0x20    </span><span class="c13 c8">; VARIAVEL DE TEMPO N1</span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">#DEFINE</span><span class="c8"></span><span class="c8 c18">N2</span><span class="c8"> 0x21    </span><span class="c13 c8">; VARIAVEL DE TEMPO N2</span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">#DEFINE</span><span class="c8"></span><span class="c8 c18">N3</span><span class="c8"> 0x22    </span><span class="c13 c8">; VARIAVEL DE TEMPO N3</span></p><p class="c19 c14"><span class="c2"></span></p><p class="c19"><span class="c8"> </span><span class="c38 c44">#DEFINE</span><span class="c8"></span><span class="c8 c18">LED</span><span class="c8">PORTA, RA0 </span><span class="c8 c115">; PINO DO LED</span><span class="c2"> </span></p><p class="c19 c14"><span class="c2"></span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">ORG</span><span class="c8">  0x00    </span><span class="c13 c8">; TRATAMENTO DO RESET</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">GOTO</span><span class="c8">  </span><span class="c42 c8 c18">SETUP_PROCESSO</span></p><p class="c19 c14"><span class="c2"></span></p><p class="c19"><span class="c8"> </span><span class="c8 c20">ORG</span><span class="c8">  0x04    </span><span class="c13 c8">; TRATAMENTO DAS INTERRUPCOES</span></p><p class="c19"><span class="c8"> </span><span class="c42 c38 c34">RETFIE</span></p><p class="c19"><span class="c2">  </span></p><p class="c19"><span class="c2">SETUP_PROCESSO:</span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; SELECIONA O BANCO 1 DE MEMORIA</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">BCF</span><span class="c2"> STATUS, RP1</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">BSF</span><span class="c2"> STATUS, RP0</span></p><p class="c19 c14"><span class="c2"></span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">BSF</span><span class="c8">PCON, OSCF </span><span class="c13 c8">; CONF. FREQ&Uuml;&Ecirc;NCIA DO OSCILADOR INTERNO EM 4 MHz</span></p><p class="c19"><span class="c2"> </span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; CONFIGURACOES DO REGISTRADOR OPTION</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVLW</span><span class="c2">B&#39;10000000&#39;</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVWF</span><span class="c2">OPTION_REG</span></p><p class="c19"><span class="c2">  </span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; MODIFICA O COMPORTAMENTO DO PORTA</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVLW</span><span class="c2">B&#39;11111110&#39;</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVWF</span><span class="c8">TRISA</span></p><p class="c19"><span class="c2">  </span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; MODIFICA O COMPORTAMENTO DO PORTB</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVLW</span><span class="c8">B&#39;11111111&#39;</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVWF</span><span class="c8">TRISB</span></p><p class="c19"><span class="c2">  </span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; SELECIONA O BANCO 0 DE MEMORIA</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">BCF</span><span class="c2"> STATUS, RP1</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">BCF</span><span class="c2"> STATUS, RP0  </span></p><p class="c19"><span class="c2">  </span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; DEFINE O MODO DE OPERACAO DO COMP. ANALOG. DESLIGADOS</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVLW</span><span class="c2">B&#39;00000111&#39;</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVWF</span><span class="c2">CMCON  </span></p><p class="c19"><span class="c2">  </span></p><p class="c19"><span class="c8"> </span><span class="c13 c8">; CONFIGURACOES DE INTERRUPCOES</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVLW</span><span class="c8"></span><span class="c2">B&#39;00000000&#39;</span></p><p class="c19"><span class="c8"> </span><span class="c38 c34">MOVWF</span><span class="c8">INTCON</span></p><p class="c19"><span class="c2"> </span></p><p class="c19"><span class="c2">PRINCIPAL:</span></p><p class="c19"><span class="c8"> </span><span class="c8 c115">; DELAY DE 1 SEGUNDO</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.</span><span class="c8 c54 c179">10</span><span class="c8"> </span><span class="c13 c8">; VALOR PARA N1</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c42 c8 c18">N1</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.</span><span class="c8 c54 c179">10</span><span class="c8"> </span><span class="c13 c8">; VALOR PARA N2</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c42 c8 c18">N2</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.</span><span class="c8 c54 c179">10</span><span class="c8"> </span><span class="c13 c8">; VALOR PARA N3</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c42 c8 c18">N3</span></p><p class="c11"><span class="c8">loop1:</span></p><p class="c11"><span class="c8"> </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c42 c8 c18">N1</span></p><p class="c11"><span class="c8"> </span><span class="c9">GOTO</span><span class="c8">  loop1</span></p><p class="c11"><span class="c8"> </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c18">N2</span></p><p class="c11"><span class="c8"> </span><span class="c9">GOTO</span><span class="c8">  loop1</span></p><p class="c11"><span class="c8"> </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c18">N3</span></p><p class="c11"><span class="c8"> </span><span class="c9">GOTO</span><span class="c2">  loop1</span></p><p class="c11"><span class="c2"> </span></p><p class="c11"><span class="c8"> </span><span class="c13 c8">; LIGA LED</span></p><p class="c11"><span class="c8"> </span><span class="c38 c34">BSF</span><span class="c2">  LED</span></p><p class="c11 c14"><span class="c2"></span></p><p class="c11"><span class="c8"> </span><span class="c8 c115">; DELAY DE 0.5 SEGUNDO</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.</span><span class="c8 c54 c179">10</span><span class="c8"> </span><span class="c13 c8">; VALOR PARA N1</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c42 c8 c18">N1</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.</span><span class="c8 c54 c179">10</span><span class="c8"> </span><span class="c13 c8">; VALOR PARA N2</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c42 c8 c18">N2</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVLW</span><span class="c8"> </span><span class="c8 c54">.</span><span class="c8 c54 c179">10</span><span class="c8"> </span><span class="c13 c8">; VALOR PARA N3</span></p><p class="c11"><span class="c8"> </span><span class="c9">MOVWF</span><span class="c8"> </span><span class="c42 c8 c18">N3</span></p><p class="c11"><span class="c8">loop2:</span></p><p class="c11"><span class="c8"> </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c42 c8 c18">N1</span></p><p class="c11"><span class="c8"> </span><span class="c9">GOTO</span><span class="c8">  loop2</span></p><p class="c11"><span class="c8"> </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c18">N2</span></p><p class="c11"><span class="c8"> </span><span class="c9">GOTO</span><span class="c8">  loop2</span></p><p class="c11"><span class="c8"> </span><span class="c9">DECFSZ</span><span class="c8"> </span><span class="c8 c18">N3</span></p><p class="c11"><span class="c8"> </span><span class="c9">GOTO</span><span class="c8">  loop2</span></p><p class="c11"><span class="c2"> </span></p><p class="c11"><span class="c8"> </span><span class="c13 c8">; LIGA LED</span></p><p class="c11"><span class="c8"> </span><span class="c38 c34">BCF</span><span class="c2">  LED</span></p><p class="c11"><span class="c2"> </span></p><p class="c19"><span class="c8"> </span><span class="c34 c38">GOTO</span><span class="c8"></span><span class="c42 c8 c18">PRINCIPAL</span></p><p class="c19"><span class="c2"> </span></p><p class="c19"><span class="c8"> END</span></p><p class="c19 c14"><span class="c2"></span></p></td></tr></tbody></table><hr style="page-break-before:always;display:none;">